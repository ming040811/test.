// ‚≠ê [Ï†ÑÏó≠ Î≥ÄÏàò]
let slideInterval; 
let currentSlideIndex = 0;
let currentTutorialPage = 1;


// ‚≠ê [ÌäúÌÜ†Î¶¨Ïñº Ïä¨ÎùºÏù¥ÎìúÏáº Îç∞Ïù¥ÌÑ∞]
const tutorialData = {
    // Page 1: ÌôîÎ©¥1_1.png, ÌôîÎ©¥1_2.png, ÌôîÎ©¥1_3.png (3Ïû•Î©¥)
    1: {
        images: [
            'img/ÌôîÎ©¥1_1.png', 
            'img/ÌôîÎ©¥1_2.png', 
            'img/ÌôîÎ©¥1_3.png'
        ],
        text: "1. Î®ºÏ†Ä, Ïù¥ÏïºÍ∏∞ Î∂ÑÏúÑÍ∏∞Ïóê ÎßûÎäî Î∞∞Í≤Ω Ïù¥ÎØ∏ÏßÄÎ•º ÏÑ†ÌÉùÌï©ÎãàÎã§.\n2. ÏÑ†ÌÉùÌïú Î∞∞Í≤Ω ÏúÑÏóê Íæ∏ÎØ∏Í∏∞ Ïù¥ÎØ∏ÏßÄÎ•º Î∞∞ÏπòÌïòÏó¨ Ïû•Î©¥ÏùÑ Íæ∏Î©∞Ï£ºÏÑ∏Ïöî\n3. ÏõêÌïòÎäî Ïû•Î©¥ÏùÑ ÎßåÎì§ÏóàÎã§Î©¥, ‚ÄòÏòÅÏÉÅ ÎßåÎì§Í∏∞‚Äô Î≤ÑÌäºÏùÑ ÎàÑÎ¶ÖÎãàÎã§."
    },
    // Page 2: ÌôîÎ©¥2_1.png, ÌôîÎ©¥2_2.png, ÌôîÎ©¥2_3.png, ÌôîÎ©¥2_4.png (4Ïû•Î©¥)
    2: {
        images: [
            'img/ÌôîÎ©¥2_1.png',
            'img/ÌôîÎ©¥2_5.png', 
            'img/ÌôîÎ©¥2_2.png', 
            'img/ÌôîÎ©¥2_3.png',
            'img/ÌôîÎ©¥2_4.png'
        ],
        text: "1. Ïù¥ÎØ∏ÏßÄ ÏÑ†ÌÉù ÌõÑ, Ïû¨ÏÉù Î≤ÑÌäºÏùÑ ÎàåÎü¨ ÎÖπÌôîÎ•º ÏãúÏûëÌï©ÎãàÎã§.\n2. ÌïòÎã® ÏûêÏÑù Î≥Ñ ÏÉâÏÉÅÏùÄ Í∞ÅÍ∞Å 1¬∑2¬∑3Î≤àÏß∏ Ïù¥ÎØ∏ÏßÄÍ∞Ä ÎßàÏö∞Ïä§Î•º Îî∞Îùº Ïù¥ÎèôÌïòÎèÑÎ°ù Ìï©ÎãàÎã§.\n3.Ïù¥ÎØ∏ÏßÄÎ•º ÏÑ†ÌÉùÌïòÏßÄ ÏïäÏïòÏùÑÎïåÎäî Ïù¥ÎØ∏ÏßÄÍ∞Ä ÎßàÏö∞Ïä§Î•º Îî∞Îùº Ïù¥ÎèôÌï©ÎãàÎã§.\n4. Ïù¥ÎØ∏ÏßÄÎ•º ÏÑ†ÌÉùÌïòÎ©¥ ÏûêÏÑùÏù¥ ÎπÑÌôúÏÑ±ÌôîÎêòÏñ¥ ÎßàÏö∞Ïä§Î•º Îî∞Îùº ÏõÄÏßÅÏù¥ÏßÄ ÏïäÏäµÎãàÎã§."
    }
};


// ---------------------------------------------------------------------------------
// [Ï†ÑÏó≠ ÌäúÌÜ†Î¶¨Ïñº Ï†úÏñ¥ Ìï®Ïàò]
// ---------------------------------------------------------------------------------

// ÌäúÌÜ†Î¶¨Ïñº Î™®Îã¨ÏùÑ Îã´Îäî Ìï®Ïàò (HTML onclickÏóêÏÑú Ìò∏Ï∂úÎê®)
function closeTutorial() {
    const overlay = document.querySelector('.tutorial-modal-overlay');
    if (overlay) {
        overlay.style.display = 'none';
    }
    // Î™®Îã¨ Îã´ÏùÑ Îïå Ïä¨ÎùºÏù¥Îìú Ïáº Ï§ëÏßÄ
    clearInterval(slideInterval);
}

// ÌäúÌÜ†Î¶¨Ïñº ÌéòÏù¥ÏßÄ Ï†ÑÌôò Ìï®Ïàò (HTML onclick Î∞è ÎèÑÌä∏ ÌÅ¥Î¶≠ÏóêÏÑú Ìò∏Ï∂úÎê®)
function showTutorialPage(pageNumber) {
    // ÎèÑÌä∏ Ïª®ÌÖåÏù¥ÎÑà Í∞ÄÏ†∏Ïò§Í∏∞
    const dotsContainer = document.querySelector('.pagination-dots');
    const titlePage = document.getElementById('page-title'); // ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄ ÏóòÎ¶¨Î®ºÌä∏
    
    // Î™®Îì† ÌéòÏù¥ÏßÄ Ïà®ÍπÄ
    document.querySelectorAll('.tutorial-page').forEach(page => {
        page.classList.remove('active');
    });
    
    // Ìï¥Îãπ ÌéòÏù¥ÏßÄ ÌëúÏãú
    const targetPage = document.querySelector(`#page-slide-${pageNumber}`);
    if (targetPage) {
        targetPage.classList.add('active');
        // Ïä¨ÎùºÏù¥Îìú Ïáº ÏãúÏûë (Ïä¨ÎùºÏù¥Îìú ÌéòÏù¥ÏßÄÏóêÏÑúÎßå)
        startTutorialSlides(pageNumber);
        // ÎèÑÌä∏ ÌëúÏãú
        dotsContainer.classList.add('show');
        
        // üî• ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄ Ïà®ÍπÄ
        if(titlePage) {
            titlePage.style.display = 'none'; 
        }
        
    } else if (pageNumber === 0) { // ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄÎ°ú ÎèåÏïÑÍ∞à Í≤ΩÏö∞ (ÎßåÏïΩÏùÑ ÏúÑÌï¥)
          if(titlePage) {
              titlePage.classList.add('active');
              titlePage.style.display = 'flex'; // ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄ ÌëúÏãú
          }
          clearInterval(slideInterval);
          // ÎèÑÌä∏ Ïà®ÍπÄ
          dotsContainer.classList.remove('show');
    }
    
    // ÎèÑÌä∏ ÏóÖÎç∞Ïù¥Ìä∏
    document.querySelectorAll('.pagination-dots .dot').forEach(dot => {
        dot.classList.remove('active');
        if (parseInt(dot.dataset.page) === pageNumber) {
            dot.classList.add('active');
        }
    });
    
    // Note: ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄ (pageNumber=0)ÏóêÏÑúÎäî `.tutorial-page-1, 2`Í∞Ä Ïà®Í≤®ÏßÑ Ï±ÑÎ°ú Ïú†ÏßÄÎê©ÎãàÎã§.
    // Ïä¨ÎùºÏù¥Îìú ÌéòÏù¥ÏßÄÍ∞Ä ÌôúÏÑ±ÌôîÎêòÎ©¥(pageNumber=1 ÎòêÎäî 2), ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄÎ•º Î™ÖÏãúÏ†ÅÏúºÎ°ú Ïà®ÍπÅÎãàÎã§.
}


// ---------------------------------------------------------------------------------
// [ÌäúÌÜ†Î¶¨Ïñº Ïä¨ÎùºÏù¥Îìú Ïáº Î°úÏßÅ]
// ---------------------------------------------------------------------------------

function renderSlides(pageNumber) {
    const data = tutorialData[pageNumber];
    const track = document.getElementById(`slide-track-${pageNumber}`);
    const textElement = document.getElementById(`slide-text-${pageNumber}`);
    
    if (!data || !track || !textElement) return;

    // Ïä¨ÎùºÏù¥Îìú Ìä∏ÎûôÏóê Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä (Ïù¥ÎØ∏ÏßÄ Î°úÎìú)
    track.innerHTML = '';
    data.images.forEach(src => {
        const img = document.createElement('img');
        img.src = src;
        img.className = 'slide-item';
        track.appendChild(img);
    });

    // ÌÖçÏä§Ìä∏ ÏÑ§Ï†ï
    textElement.innerText = data.text;
    
    // Ï¥àÍ∏∞ Ïä¨ÎùºÏù¥Îìú ÏÑ§Ï†ï
    currentSlideIndex = 0;
    track.style.transform = `translateX(0px)`;
}

function nextSlide() {
    const data = tutorialData[currentTutorialPage];
    if (!data) return;

    const track = document.getElementById(`slide-track-${currentTutorialPage}`);
    const slideWidth = 638; // CSSÏóê Ï†ïÏùòÎêú Ïä¨ÎùºÏù¥Îìú Ìè≠

    currentSlideIndex = (currentSlideIndex + 1) % data.images.length;
    
    // Ïä¨ÎùºÏù¥Îìú Ïù¥Îèô (2Ï¥à Í∞ÑÍ≤©)
    track.style.transform = `translateX(-${currentSlideIndex * slideWidth}px)`;
}

function startTutorialSlides(pageNumber) {
    // Ïù¥Ï†Ñ Ïù∏ÌÑ∞Î≤å Ï§ëÏßÄ
    clearInterval(slideInterval);
    
    currentTutorialPage = pageNumber;
    renderSlides(pageNumber);
    
    // 2Ï¥à Í∞ÑÍ≤©ÏúºÎ°ú Ïä¨ÎùºÏù¥Îìú ÏûêÎèô Ï†ÑÌôò
    slideInterval = setInterval(nextSlide, 2000);
}


// ---------------------------------------------------------------------------------
// [Í∏∞Ï°¥ Ïï†ÌîåÎ¶¨ÏºÄÏù¥ÏÖò Î°úÏßÅ]
// ---------------------------------------------------------------------------------

// Ïï†ÎãàÎ©îÏù¥ÏÖòÏóêÏÑú Ï†úÏô∏Îê† ÌååÏùº Î™©Î°ù (ÌïòÎìúÏΩîÎî©Îêú Ï†ïÏ†Å Î∞∞Í≤Ω ÏöîÏÜå)
const EXCLUDED_ANIMATION_FILES = [
    'ÏÑ±1.png', 'Í∞ÄÎ°úÎì±1-2.png', 'Î∂ÑÏàòÎåÄ.png', 'Î∞∞.png', 'Ïßë1.png',
    'ÏåçÍ∞ÄÎ°úÎì±1-2.png', 'ÏùòÏûê.png', 'Í∞ÄÎ°úÏàò.png',
    'ÎßàÏ∞®.png', 'Ï°∞Í∞ÅÏÉÅ1.png' // [ÏàòÏ†ï 1]
].map(name => name.toLowerCase());


// URL Ïù∏ÏΩîÎî©(ÌïúÍ∏Ä) Î¨∏Ï†úÎ•º Ìï¥Í≤∞Ìïú Ìó¨Ìçº Ìï®Ïàò
function getFilenameFromUrl(url) {
    if (!url) return null;
    let filename = '';
    try {
        const path = new URL(url).pathname;
        filename = path.substring(path.lastIndexOf('/') + 1);
    } catch (e) {
        const lastSlashIndex = url.lastIndexOf('/');
        if (lastSlashIndex !== -1) {
            filename = url.substring(lastSlashIndex + 1);
        } else {
            filename = url;
        }
    }
    filename = filename.replace(/['"]/g, '');
    try {
        return decodeURIComponent(filename);
    } catch (e) {
        return filename;
    }
}

// ÌååÏùºÏù¥ Ï†úÏô∏ Î™©Î°ùÏóê Ìè¨Ìï®ÎêòÎäîÏßÄ ÌôïÏù∏ÌïòÎäî Ìó¨Ìçº Ìï®Ïàò
function isExcludedFile(url) {
    if (!url) return false;
    const filename = getFilenameFromUrl(url).toLowerCase();
    return EXCLUDED_ANIMATION_FILES.includes(filename);
}

// ÏóîÎî© Î∂ÑÍ∏∞Î•º Í≤∞Ï†ïÌïòÎäî Ìó¨Ìçº Ìï®Ïàò
function getEndingType(backgroundUrl) {
    if (!backgroundUrl || backgroundUrl === 'none') return 'happy';
    const filename = getFilenameFromUrl(backgroundUrl);
if (filename === 'Î∞§.png' || filename === 'ÎπÑ.png' || filename === 'ÎÇòÎ¨¥.png' || filename === 'ÍΩÉ.png') {
      return 'sad';
    }
    return 'happy';
}

// 8Í∞ú Ïû•Î©¥Ïóê ÎåÄÌïú "AI" ÎÇ¥Îü¨Ìã∞Î∏å Îç∞Ïù¥ÌÑ∞ (Index CodeÏóêÏÑú Î≥µÏÇ¨)
const narrativeData = {
    '1': {
        question: "1Ïû•: Í∞ÄÎ©¥ ÏÜçÏùò ÎßåÎÇ®\nÎ°úÎØ∏Ïò§ÏôÄ Ï§ÑÎ¶¨Ïó£Ïù¥ Ï≤òÏùå ÎßåÎÇú Ïû•ÏÜåÎäî Ïñ¥ÎîîÏùºÍπåÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä ÌïúÎÇÆÏùò Í±∞Î¶¨Î•º Í±∑Îã§Í∞Ä", 'Î∞§.png': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä Îã¨Îπõ ÏïÑÎûòÎ•º Í±∑Îã§Í∞Ä",
            'ÎπÑ.png': "ÎπÑ ÎÇ¥Î¶¨Îäî Ïò§ÌõÑ, Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä", 'Îàà.png': "Ìï®Î∞ïÎàà ÎÇ¥Î¶¨Îçò Ïñ¥Îäê ÎÇ†, Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä",
            'Í≥ÑÎã®.png': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä ÏõÖÏû•Ìïú Í≥ÑÎã®Ïù¥ ÏûàÎäî Í≥≥ÏùÑ ÏßÄÎÇòÎã§Í∞Ä", 'ÎèÑÏãú.png': "ÎèÑÏã¨ ÌïúÍ∞ÄÏö¥Îç∞ÏóêÏÑú Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä",
            'ÎÇòÎ¨¥.png': "Ïà≤ÏÜçÏóêÏÑú Í∏∏ÏùÑ ÏûÉÏùÄ Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä",
            'ÏÇ∞.png': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä ÌóòÏ§ÄÌïú ÏÇ∞ÏùÑ Ïò§Î•¥Îã§Í∞Ä",
            'ÍΩÉ.png': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä ÎßåÎ∞úÌïú ÍΩÉÎ∞≠ÏùÑ ÏßÄÎÇòÎã§Í∞Ä",
            'default': "Î™¨ÌÉúÍ∑úÍ∞ÄÏùò Î°úÎØ∏Ïò§Í∞Ä Í∏∏ÏùÑ Í±∑Îã§Í∞Ä"
        },
        decorationText: {
            "Ïßë": " Ïô∏Îî¥ Ïò§ÎëêÎßâÏóêÏÑú Ïó¨Ìñâ Ï§ëÏù¥Îçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏÑ±": " ÏÑ±ÏùÑ ÏÇ∞Ï±Ö Ï§ëÏù¥Îçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "Í∞ÄÎ°úÎì±": " ÌôòÌïú Í∞ÄÎ°úÎì± ÏïÑÎûòÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "Í∞ÄÎ°úÏàò": " Ìë∏Î•∏ Í∞ÄÎ°úÏàòÍ∞Ä ÏûàÎäî Í∏∏ÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ Ïâ¨Í≥† ÏûàÎçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "Î∞∞": " Í∞ïÍ∞ÄÏóêÏÑú Î∞∞Î•º ÌÉÄÍ≥† ÏûàÎçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÎßàÏ∞®": " ÌôîÎ†§Ìïú ÎßàÏ∞®Î•º ÌÉÄÍ≥† Í∞ÄÎçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "Ï°∞Í∞ÅÏÉÅ": " Ïò§ÎûòÎêú Ï°∞Í∞ÅÏÉÅ ÏïûÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏàòÌíÄ": " Ïö∞Í±∞ÏßÑ ÏàòÌíÄ Îí§ÏóêÏÑú Î™∏ÏùÑ Ïà®Í∏∞Îçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÎπÑÌñâÍ∏∞": " ÌïòÎäò ÎÜíÏù¥ ÎÇòÎäî ÎπÑÌñâÍ∏∞Î•º Î∞îÎùºÎ≥¥Îçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏÉπÎì§Î¶¨Ïóê": " ÌôîÎ†§Ìïú ÏÉπÎì§Î¶¨ÏóêÍ∞Ä ÎπõÎÇòÎäî ÌôÄÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "Îã§Î¶¨": " Í∞ïÏùÑ Í∞ÄÎ°úÏßÄÎ•¥Îäî Îã§Î¶¨ ÏúÑÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏûêÎ™ÖÏ¢Ö": " ÏûêÎ™ÖÏ¢Ö ÏÜåÎ¶¨Ïóê ÎÜÄÎùº ÎèåÏïÑÎ≥¥Îçò Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÌïòÌîÑ": " ÏïÑÎ¶ÑÎã§Ïö¥ ÌïòÌîÑ ÏÜåÎ¶¨Í∞Ä Îì§Î¶¨Îäî Í≥≥ÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÌÉë": " ÎÜíÏùÄ ÌÉë ÏïÑÎûòÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            "ÏòàÎ∞∞Îãπ": " Í≥†ÏöîÌïú ÏòàÎ∞∞Îãπ ÏïàÏóêÏÑú Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§.",
            'default': " Ïö∞Ïó∞Ìûà Ï∫êÌíÄÎ†õÍ∞ÄÏùò Ï§ÑÎ¶¨Ïó£ÏùÑ ÎßåÎÇ©ÎãàÎã§."
        },
        finalText: { 'default': "ÎëòÏùÄ Ï≤´ÎààÏóê Î∞òÌïòÏßÄÎßå, ÏõêÏàòÏùò ÏûêÏãùÏûÑÏùÑ ÏïåÍ≥† Ï†àÎßùÌï©ÎãàÎã§." }
    },
    '2': {
        question: "2Ïû•: Îã¨Îπõ ÏïÑÎûò ÎßπÏÑ∏\nÎ°úÎØ∏Ïò§Í∞Ä Ï§ÑÎ¶¨Ïó£Ïùò Í≥†Î∞±ÏùÑ ÏóøÎì§ÏùÄ Í≥≥ÏùÄ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?",
        backgroundText: {
             'ÎÇÆ.png': "ÌñáÎπõÏù¥ ÎÇ¥Î¶¨Ï¨êÎçò ÎÇÆ, Î°úÎØ∏Ïò§Îäî", 'Î∞§.png': "Îã¨ÎπõÏù¥ ÎπÑÏ∂îÎäî Î∞§, Î°úÎØ∏Ïò§Îäî",
             'ÎπÑ.png': "Ï∞®Í∞ÄÏö¥ ÎπÑÍ∞Ä ÎÇ¥Î¶¨Îäî Î∞§, Î°úÎØ∏Ïò§Îäî", 'Îàà.png': "ÏÜåÎ¶¨ ÏóÜÏù¥ ÎààÏù¥ ÎÇ¥Î¶¨Îäî Î∞§, Î°úÎØ∏Ïò§Îäî",
             'Í≥ÑÎã®.png': "Í∑∏ÎÖÄÏùò ÏßëÏúºÎ°ú Ìñ•ÌïòÎäî Í≥ÑÎã® ÏïÑÎûò, Î°úÎØ∏Ïò§Îäî", 'ÎèÑÏãú.png': "ÎèÑÏãúÍ∞Ä Ïû†Îì† Í≥†ÏöîÌïú Î∞§, Î°úÎØ∏Ïò§Îäî",
             'ÎÇòÎ¨¥.png': "Ïà≤Ï≤òÎüº Ïö∞Í±∞ÏßÑ Ï†ïÏõê ÎÇòÎ¨¥ Í∑∏Îäò ÏïÑÎûòÎ°ú Î°úÎØ∏Ïò§Îäî",
             'ÏÇ∞.png': "Ï†Ä Î©ÄÎ¶¨ ÏÇ∞Ïù¥ Î≥¥Ïù¥Îäî Í≥≥ÏóêÏÑú, Î°úÎØ∏Ïò§Îäî",
             'ÍΩÉ.png': "ÏïÑÎ¶ÑÎã§Ïö¥ ÍΩÉÏù¥ ÌïÄ Ï†ïÏõêÏóêÏÑú, Î°úÎØ∏Ïò§Îäî",
             'default': "Ï§ÑÎ¶¨Ïó£ÏùÑ ÏûäÏßÄ Î™ªÌïú Î°úÎØ∏Ïò§Í∞Ä Í∑∏ÎÖÄÎ•º Ï∞æÏïÑ"
        },
        decorationText: {
            "Ïßë": " Í∑∏ÎÖÄÏùò Ïßë Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏÑ±": " Í∑∏ÎÖÄÏùò ÏÑ± Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "Í∞ÄÎ°úÎì±": " Ìù¨ÎØ∏Ìïú Í∞ÄÎ°úÎì± Î∂àÎπõÏù¥ ÎπÑÏ∂îÎäî Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "Í∞ÄÎ°úÏàò": " Ï†ïÏõêÏùò Í∞ÄÎ°úÏàò Îí§Ïóê Ïà®Ïñ¥ Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏùòÏûê": " Î∞úÏΩîÎãà ÏïÑÎûò Î≤§ÏπòÏóê ÏïâÏïÑ Í∑∏ÎÖÄÎ•º Í∏∞Îã§Î¶ΩÎãàÎã§.",
            "Î∞∞": " Í∑∏ÎÖÄÎ•º ÎßåÎÇò Ìï®Íªò Î∞∞Ïóê Ïò¨ÎùºÌÉëÎãàÎã§",
            "ÎßàÏ∞®": " ÎßàÏ∞®Í∞Ä ÏÑ∏ÏõåÏßÑ Ï†ïÏõê Íµ¨ÏÑùÏóêÏÑú Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "Ï°∞Í∞ÅÏÉÅ": " Ï°∞Í∞ÅÏÉÅ Îí§Ïóê Ïà®Ïñ¥ Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏàòÌíÄ": " Î¨¥ÏÑ±Ìïú ÏàòÌíÄ ÏÜçÏóê Ïà®Ïñ¥ Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÎπÑÌñâÍ∏∞": " ÌïòÎäòÏùò ÎπÑÌñâÍ∏∞ ÏÜåÎ¶¨Ï°∞Ï∞® Îì§Î¶¨ÏßÄ ÏïäÎäî Î∞§, Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏÉπÎì§Î¶¨Ïóê": " Í∑∏ÎÖÄÏùò Î∞© Ïïà ÏÉπÎì§Î¶¨Ïóê Î∂àÎπõÏù¥ ÏÉàÏñ¥ ÎÇòÏò§Îäî Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "Îã§Î¶¨": " Í∑ºÏ≤ò Îã§Î¶¨ ÏïÑÎûò Ïà®Ïñ¥ Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏûêÎ™ÖÏ¢Ö": " Ïö∏Î¶¨ÏßÄ ÏïäÎäî ÏûêÎ™ÖÏ¢ÖÏ≤òÎüº Í≥†ÏöîÌïú Î∞§, Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÌïòÌîÑ": " ÌïòÌîÑ ÏÜåÎ¶¨Í∞Ä Ìù¨ÎØ∏ÌïòÍ≤å Îì§Î†§Ïò§Îäî Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÌÉë": " Ï†ÄÌÉùÏùò ÌÉë ÏïÑÎûòÏóêÏÑú Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            "ÏòàÎ∞∞Îãπ": " Ïù∏Í∑º ÏòàÎ∞∞Îãπ Î≤ΩÏóê Í∏∞ÎåÄ Í∑∏ÎÖÄÏùò Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§.",
            'default': " Í∑∏ÎÖÄÏùò Î∞© Î∞úÏΩîÎãàÎ•º Ïò¨Î†§Îã§Î¥ÖÎãàÎã§."
        },
        finalText: { 'default': "Ï§ÑÎ¶¨Ïó£Ïùò ÏÇ¨Îûë Í≥†Î∞±ÏùÑ Îì£Í≤å ÎêòÎ©∞ Îëê ÏÇ¨ÎûåÏùÄ ÏòÅÏõêÌïú ÏÇ¨ÎûëÏùÑ ÏïΩÏÜçÌï©ÎãàÎã§." }
    },
    '3': {
        question: "3Ïû•: ÏÑ±Ïä§Îü¨Ïö¥ ÎπÑÎ∞Ä\nÎëê ÏÇ¨ÎûåÏùò ÎπÑÎ∞Ä Í≤∞ÌòºÏãùÏùÄ Ïñ¥ÎîîÏÑú Ïó¥Î†∏ÎÇòÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "Îã§Ïùå ÎÇ† ÎÇÆ, Îëê ÏÇ¨ÎûåÏùÄ Ï°∞Î†•ÏûêÎ•º Ï∞æÏïÑÍ∞Ä", 'Î∞§.png': "Îã§Ïùå ÎÇ† Ïñ¥ÎëêÏö¥ Î∞§, Îëê ÏÇ¨ÎûåÏùÄ ÏÇ¨ÎûåÎì§Ïùò ÎààÏùÑ ÌîºÌï¥",
            'ÎπÑ.png': "ÎπÑÍ∞Ä ÎÇ¥Î¶¨Îäî ÎÇ†, Îëê ÏÇ¨ÎûåÏùÄ ÎπÑÎ∞ÄÏùÑ Í∞êÏ∂ò Ï±Ñ", 'Îàà.png': "ÎààÏù¥ ÎÇ¥Î¶¨Îäî ÎÇ†, Îëê ÏÇ¨ÎûåÏùÄ ÏàúÍ≤∞Ìïú ÎßπÏÑ∏Î•º ÏúÑÌï¥",
            'Í≥ÑÎã®.png': "Í≥ÑÎã®ÏïûÏóêÏÑú ÎßåÎÇú, Îëê ÏÇ¨ÎûåÏùÄ", 'ÎèÑÏãú.png': "ÎèÑÏãúÏùò ÏàòÎßéÏùÄ ÎààÏùÑ ÌîºÌï¥, Îëê ÏÇ¨ÎûåÏùÄ",
            'ÎÇòÎ¨¥.png': "Ïà≤ÏÜç ÏûëÏùÄ ÏòàÎ∞∞ÎãπÏúºÎ°ú, Îëê ÏÇ¨ÎûåÏùÄ",
            'ÏÇ∞.png': "ÏÇ∞ÏÜç ÍπäÏùÄ Í≥≥ÏúºÎ°ú Îñ†ÎÇú, Îëê ÏÇ¨ÎûåÏùÄ",
            'ÍΩÉ.png': "ÍΩÉÏù¥ ÎßåÎ∞úÌïú Ï†ïÏõêÏùÑ ÏßÄÎÇò, Îëê ÏÇ¨ÎûåÏùÄ",
            'default': "Îëê ÏÇ¨ÎûåÏùÄ Ï°∞Î†•ÏûêÎ•º Ï∞æÏïÑÍ∞Ä"
        },
        decorationText: {
            "Ïßë": " ÏûëÏùÄ Ïò§ÎëêÎßâ ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÏÑ±": " Î≤ÑÎ†§ÏßÑ ÏÑ±ÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "Í∞ÄÎ°úÎì±": " Ï¥õÎ∂àÏù¥ Í∞ÄÎ°úÎì±Ï≤òÎüº Îëê ÏÇ¨ÎûåÏùÑ ÎπÑÏ∂îÎäî ÏòàÎ∞∞Îãπ ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "Í∞ÄÎ°úÏàò": " Ï†ïÏõêÏùò Í∞ÄÎ°úÏàò ÏïÑÎûòÏóêÏÑú ÏÜåÎ∞ïÌïú Í≤∞ÌòºÏãùÏùÑ Ïò¨Î¶ΩÎãàÎã§.",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ Ï°∞Ïö©Ìûà Í≤∞Ìòº ÏÑúÏïΩÏùÑ ÎÇòÎàïÎãàÎã§.",
            "Î∞∞": " Í∞ïÍ∞ÄÏùò ÏûëÏùÄ Î∞∞ ÏúÑÏóêÏÑú ÎπÑÎ∞Ä Í≤∞ÌòºÏãùÏùÑ Ïò¨Î¶ΩÎãàÎã§.",
            "ÎßàÏ∞®": " ÎßàÏ∞®Î•º ÌÉÄÍ≥† ÎèÑÏ∞©Ìïú ÏòàÎ∞∞ÎãπÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "Ï°∞Í∞ÅÏÉÅ": " ÏÑ±Ïä§Îü¨Ïö¥ Ï°∞Í∞ÅÏÉÅÏù¥ ÏßÄÏºúÎ≥¥Îäî ÏïÑÎûò Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÏàòÌíÄ": " ÏàòÌíÄÏóê Í∞ÄÎ†§ÏßÑ ÎπÑÎ∞Ä Ïû•ÏÜåÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÎπÑÌñâÍ∏∞": " ÌïòÎäòÏùÑ ÎÇòÎäî ÎπÑÌñâÍ∏∞ ÏïÑÎûòÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÏÉπÎì§Î¶¨Ïóê": " ÏÉπÎì§Î¶¨ÏóêÍ∞Ä ÎπõÎÇòÎäî ÏûëÏùÄ Î∞©ÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "Îã§Î¶¨": " ÏïÑÎ¨¥ÎèÑ ÏóÜÎäî Îã§Î¶¨ ÏúÑÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÏûêÎ™ÖÏ¢Ö": " ÏûêÎ™ÖÏ¢Ö ÏÜåÎ¶¨Í∞Ä Î©àÏ∂ò Í≥†Ïöî ÏÜçÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÌïòÌîÑ": " ÌïòÌîÑ ÏÜåÎ¶¨Í∞Ä Ïö∏Î†§ ÌçºÏßÄÎäî Í≥µÍ∞ÑÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÌÉë": " Ïò§ÎûòÎêú ÌÉë ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            "ÏòàÎ∞∞Îãπ": " Í≥†ÏöîÌïú ÏòàÎ∞∞Îãπ ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§.",
            'default': " ÏòàÎ∞∞Îãπ ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏùò Ï£ºÎ°ÄÎ°ú Í≤∞ÌòºÌï©ÎãàÎã§."
        },
        finalText: {
            'happy': "Ï°∞Î†•ÏûêÎäî ÌôîÌï¥Î•º Ïù¥ÎÅå Í≤ÉÏù¥Îùº ÎØøÏúºÎ©∞ Ïù¥Îì§Ïùò Í≤∞ÌòºÏùÑ ÎèïÍ≥†, ÎëòÏùÄ Ïã†ÏÑ±Ìïú Î∂ÄÎ∂ÄÏùò Ïó∞ÏùÑ Îß∫ÏäµÎãàÎã§.",
            'sad': "Ï°∞Î†•ÏûêÎäî Î∂àÍ∏∏Ìïú ÏòàÍ∞ê ÏÜçÏóêÏÑú Ïù¥Îì§Ïùò Í≤∞ÌòºÏùÑ ÎèïÍ≥†, ÎëòÏùÄ Ïã†ÏÑ±Ìïú Î∂ÄÎ∂ÄÏùò Ïó∞ÏùÑ Îß∫ÏäµÎãàÎã§."
        }
    },
    '4': {
        question: "4Ïû•: Í¥ëÏû•Ïùò Í≤∞Ìà¨\nÎπÑÍ∑πÏ†ÅÏù∏ Í≤∞Ìà¨Í∞Ä Î≤åÏñ¥ÏßÑ Ïû•ÏÜåÎäî Ïñ¥ÎîîÏù∏Í∞ÄÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Îú®Í±∞Ïö¥ ÌÉúÏñë ÏïÑÎûò", 'Î∞§.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Ïñ¥ÎëêÏö¥ Î∞§Ïùò Í¥ëÏû•",
            'ÎπÑ.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, ÎπÑ ÎÇ¥Î¶¨Îäî Í±∞Î¶¨", 'Îàà.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Îàà ÎÇ¥Î¶¨Îäî ÌòºÎûÄ ÏÜç",
            'Í≥ÑÎã®.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Í¥ëÏû• Í≥ÑÎã®", 'ÎèÑÏãú.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, ÏãúÎÅÑÎü¨Ïö¥ ÎèÑÏã¨ ÏÇ¨Ïù¥",
            'ÎÇòÎ¨¥.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Í¥ëÏû• ÏòÜ ÎÇòÎ¨¥ Í∑∏Îäò",
            'ÏÇ∞.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, ÏÇ∞Ïù¥ Î≥¥Ïù¥Îäî Ïñ∏Îçï ÏïÑÎûò",
            'ÍΩÉ.png': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, ÍΩÉÏù¥ Ìù©ÎÇ†Î¶¨Îäî Í¥ëÏû•",
            'default': "Í≤∞ÌòºÏãù ÏßÅÌõÑ, Í±∞Î¶¨"
        },
        decorationText: {
            "Ïßë": " ÏÇ¨ÎûåÎì§Ïù¥ ÏßÄÏºúÎ≥¥Îäî ÏßëÎì§ ÏïûÏóêÏÑú,",
            "ÏÑ±": " Ï†Ä Î©ÄÎ¶¨ Ï∫êÌíÄÎ†õÍ∞ÄÏùò ÏÑ±Ïù¥ Î≥¥Ïù¥Îäî Í¥ëÏû•ÏóêÏÑú,",
            "Í∞ÄÎ°úÎì±": " Í∞ÄÎ°úÎì±Ïù¥ ÏºúÏßÄÍ∏∞ ÏãúÏûëÌïú Í±∞Î¶¨ÏóêÏÑú,",
            "Í∞ÄÎ°úÏàò": " Í∞ÄÎ°úÏàòÍ∞Ä ÎäòÏñ¥ÏÑ† Í¥ëÏû•ÏóêÏÑú,",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ ÏûàÎçò Í¥ëÏû•ÏóêÏÑú,",
            "Î∞∞": " Í∞ïÍ∞ÄÏùò Î∞∞ ÏúÑÏóêÏÑú,",
            "ÎßàÏ∞®": " ÎßàÏ∞®Í∞Ä ÏßÄÎÇòÎã§ÎãàÎäî Í¥ëÏû•ÏóêÏÑú,",
            "Ï°∞Í∞ÅÏÉÅ": " Ï°∞Í∞ÅÏÉÅ ÏïÑÎûòÏóêÏÑú,",
            "ÏàòÌíÄ": " Í¥ëÏû• Í∞ÄÏû•ÏûêÎ¶¨Ïùò ÏàòÌíÄ Í∑ºÏ≤òÏóêÏÑú,",
            "ÎπÑÌñâÍ∏∞": " ÌïòÎäòÏóê ÎπÑÌñâÍ∏∞Í∞Ä Îã§ÎãàÎäî Í≥µÌÑ∞ÏóêÏÑú,",
            "ÏÉπÎì§Î¶¨Ïóê": " Ï£ºÎ≥Ä Í±¥Î¨º Ï∞ΩÎ¨∏ ÏÜç ÏÉπÎì§Î¶¨ÏóêÍ∞Ä Ìù¨ÎØ∏ÌïòÍ≤å Î≥¥Ïù¥Îäî Í¥ëÏû•ÏóêÏÑú,",
            "Îã§Î¶¨": " Í¥ëÏû•ÏúºÎ°ú Ïù¥Ïñ¥ÏßÄÎäî Îã§Î¶¨ ÏúÑÏóêÏÑú,",
            "ÏûêÎ™ÖÏ¢Ö": " ÏãúÍ∞ÑÏù¥ Î©àÏ∂ò ÎìØ Í≥†ÏöîÌïú Í¥ëÏû•ÏóêÏÑú,",
            "ÌïòÌîÑ": " ÌïòÌîÑ ÏÜåÎ¶¨Í∞Ä Îì§Î†§Ïò§ÏßÄ ÏïäÎäî Í¥ëÏû•ÏóêÏÑú,",
            "ÌÉë": " ÎÜíÏùÄ ÏãúÍ≥ÑÌÉë ÏïÑÎûò Í¥ëÏû•ÏóêÏÑú,",
            "ÏòàÎ∞∞Îãπ": " ÏòàÎ∞∞ÎãπÏù¥ Î∞îÎùºÎ≥¥Ïù¥Îäî Ï†ïÏõê ÏïûÏóêÏÑú,",
            "default": " Í¥ëÏû•ÏóêÏÑú,"
        },
        finalText: { 'default': "Ï§ÑÎ¶¨Ïó£Ïùò ÏÇ¨Ï¥åÏùÄ Î°úÎØ∏Ïò§Î•º Î™ªÎßàÎïÖÌûà Ïó¨Í≤® ÎèÑÎ∞úÌïòÎ©∞ Ïã∏ÏõÄÏù¥\nÏãúÏûëÎêòÏóàÍ≥†, Ïã∏ÏõÄÏùÑ ÎßêÎ¶¨Îçò Î°úÎØ∏Ïò§Ïùò ÏπúÍµ¨Í∞Ä ÏπºÏóê Î∂ÄÏÉÅÏùÑ ÏûÖÏäµÎãàÎã§." }
    },
    '5': {
        question: "5Ïû•: Ïä¨Ìîà Ïù¥Î≥ÑÍ≥º Ï∂îÎ∞©\nÎ°úÎØ∏Ïò§ÏôÄ Ï§ÑÎ¶¨Ïó£Ïù¥ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÇ∏ Í≥≥ÏùÄ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞© Î™ÖÎ†πÏùÑ Î∞õÍ≥†, ÎÇ†Ïù¥ Î∞ùÍ∏∞ Ï†Ñ", 'Î∞§.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞© Ï†Ñ ÎßàÏßÄÎßâ Î∞§,",
            'ÎπÑ.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÎäî Ïä¨Ìîà Î∞§, Ï∞ΩÎ∞ñÏóê ÎπÑÍ∞Ä ÎÇ¥Î¶ΩÎãàÎã§.", 'Îàà.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÎäî Ï∞®Í∞ÄÏö¥ Î∞§, ÎààÏù¥ ÎÇ¥Î¶ΩÎãàÎã§.",
            'Í≥ÑÎã®.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ∏∞ Ï†Ñ, ÎßàÏßÄÎßâÏúºÎ°ú Í∑∏ÎÖÄÏùò Î∞© Í≥ÑÎã®ÏùÑ Ïò¨Îùº,", 'ÎèÑÏãú.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ∏∞ Ï†Ñ Î∞§, ÎèÑÏãúÍ∞Ä Ïû†Îì† ÏÇ¨Ïù¥,",
            'ÎÇòÎ¨¥.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ∏∞ Ï†Ñ Î∞§, Ï∞ΩÎ∞ñ ÎÇòÎ¨¥Í∞Ä ÌùîÎì§Î¶ΩÎãàÎã§.",
            'ÏÇ∞.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ∏∞ Ï†Ñ, Ï∞ΩÎ∞ñÏúºÎ°ú ÏÇ∞ÏùÑ Î∞îÎùºÎ≥¥Î©∞,",
            'ÍΩÉ.png': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ∏∞ Ï†Ñ, Ï∞ΩÎ∞ñÏùò ÍΩÉÏù¥ ÏãúÎì§Ïñ¥Í∞ÄÎçò Î∞§,",
            'default': "ÏπúÍµ¨Î•º Îã§ÏπòÍ≤å Ìïú Ï£ÑÎ°ú Ï∂îÎ∞©ÎãπÌïòÍ≤å Îêú Î°úÎØ∏Ïò§."
        },
        decorationText: {
            "Ïßë": " Ï§ÑÎ¶¨Ïó£Ïùò Ïßë, Í∑∏ÎÖÄÏùò Î∞© ÏïàÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏÑ±": " Ï§ÑÎ¶¨Ïó£Ïùò ÏÑ±, Í∑∏ÎÖÄÏùò Î∞© ÏïàÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "Í∞ÄÎ°úÎì±": " Ï∞ΩÎ∞ñ Í∞ÄÎ°úÎì± Î∂àÎπõÏù¥ Í∫ºÏ†∏Í∞à Î¨¥Î†µ, Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "Í∞ÄÎ°úÏàò": " Ï∞ΩÎ∞ñ Í∞ÄÎ°úÏàòÍ∞Ä ÌùîÎì§Î¶¨Îäî Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ ÏÑúÎ°úÎ•º ÏúÑÎ°úÌïòÎ©∞ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "Î∞∞": " Í∞ïÍ∞ÄÏùò ÏûëÏùÄ Î∞∞ ÏúÑÏóêÏÑú ÏÑúÎ°úÎ•º ÏúÑÎ°úÌïòÎ©∞ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÎßàÏ∞®": " Îñ†ÎÇòÏïº Ìï† ÎßàÏ∞®Í∞Ä Í∏∞Îã§Î¶¨Îäî Í∞ÄÏö¥Îç∞, Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "Ï°∞Í∞ÅÏÉÅ": " Î∞© ÏïàÏùò Ï°∞Í∞ÅÏÉÅÎßàÏ†Ä Ïπ®Î¨µÌïòÎäî Í∞ÄÏö¥Îç∞, Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏàòÌíÄ": " Ï∞ΩÎ∞ñ ÏàòÌíÄ ÏÜåÎ¶¨Í∞Ä Îì§Î†§Ïò§Îäî Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÎπÑÌñâÍ∏∞": " ÏÉàÎ≤Ω ÎπÑÌñâÍ∏∞Í∞Ä Ïù¥Î•ôÌïòÎäî ÏÜåÎ¶¨Î•º Îì§ÏúºÎ©∞ Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏÉπÎì§Î¶¨Ïóê": " Î∞© Ïïà ÏÉπÎì§Î¶¨ÏóêÏùò Î∂àÎπõÏù¥ Ìù¨ÎØ∏Ìïú Í∞ÄÏö¥Îç∞ Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "Îã§Î¶¨": " Ï∞ΩÎ∞ñÏúºÎ°ú Îã§Î¶¨Í∞Ä Î≥¥Ïù¥Îäî Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏûêÎ™ÖÏ¢Ö": " Ïö∏Î¶¨ÏßÄ ÏïäÎèÑÎ°ù Í∫ºÎëî ÏûêÎ™ÖÏ¢Ö ÏòÜÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÌïòÌîÑ": " ÌïòÌîÑ ÏÜåÎ¶¨Í∞Ä Î©àÏ∂ò Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÌÉë": " ÏÑ±Ïùò ÌÉë Íº≠ÎåÄÍ∏∞Ïóê ÏûàÎäî Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "ÏòàÎ∞∞Îãπ": " Í∑ºÏ≤ò ÏòàÎ∞∞ÎãπÏùò Ï¢ÖÏÜåÎ¶¨Í∞Ä Îì§Î†§Ïò§Îäî Í∞ÄÏö¥Îç∞ Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§.",
            "default": " Í∑∏ÎÖÄÏùò Î∞©ÏóêÏÑú Îëê ÏÇ¨ÎûåÏùÄ ÎßàÏßÄÎßâ Î∞§ÏùÑ Î≥¥ÎÉÖÎãàÎã§."
        },
        finalText: { 'default': "Î∂ÄÎ∂ÄÎ°úÏÑúÏùò Ï≤´ÎÇ†Î∞§Ïù¥Ïûê ÎßàÏßÄÎßâ Î∞§ÏùÑ ÎààÎ¨ºÎ°ú Ìï®ÍªòÌïú Îí§, Î°úÎØ∏Ïò§Îäî ÎèÑÏãúÎ•º Îñ†ÎÇòÎ©∞ Ïä¨Ìîà Ïù¥Î≥ÑÏùÑ ÎßûÏù¥Ìï©ÎãàÎã§." }
    },
    '6': {
        question: "6Ïû•: Í∞ïÏöîÎêú ÏïΩÏÜç\nÏ§ÑÎ¶¨Ïó£Ïù¥ Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏùÑ ÏïΩÏÜçÌïòÍ≤å Îêú Ïû•ÏÜåÎäî Ïñ¥ÎîîÏù∏Í∞ÄÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "Î°úÎØ∏Ïò§Í∞Ä Îñ†ÎÇú ÎÇÆ,", 'Î∞§.png': "Ï†àÎßùÏ†ÅÏù∏ Î∞§,", 'ÎπÑ.png': "Ï§ÑÎ¶¨Ïó£Ïùò ÎßàÏùåÏ≤òÎüº ÎπÑÍ∞Ä ÎÇ¥Î¶¨Îçò ÎÇ†,",
            'Îàà.png': "Ï∞®Í∞ÄÏö¥ ÎààÏ≤òÎüº ÎÉâÌòπÌïú ÎÇ†,", 'Í≥ÑÎã®.png': "Ï†ÄÌÉùÏùò Í≥ÑÎã® ÏïÑÎûòÏÑú,", 'ÎèÑÏãú.png': "ÎèÑÏãúÏùò Î™ÖÎßù ÎÜíÏùÄ Îã§Î•∏ Í∑ÄÏ°±Í≥º",
            'ÎÇòÎ¨¥.png': "Ï†ïÏõêÏùò ÎÇòÎ¨¥Î•º Î≥¥Î©∞ Î°úÎØ∏Ïò§Î•º Í∑∏Î¶¨ÏõåÌïòÎçò Ï§ë,",
            'ÏÇ∞.png': "Ï†Ä Î©ÄÎ¶¨ ÏÇ∞Îßå Î∞îÎùºÎ≥¥Îçò Ï§ÑÎ¶¨Ïó£ÏóêÍ≤å,",
            'ÍΩÉ.png': "Ï†ïÏõêÏùò ÍΩÉÏù¥ ÏãúÎì§Ïñ¥Í∞ÄÎçò ÎÇ†,", // [Ïò§Î•ò ÏàòÏ†ï]
            'default': "Î°úÎØ∏Ïò§Í∞Ä Îñ†ÎÇú ÌõÑ,"
        },
        decorationText: {
"Ïßë": " Ï§ÑÎ¶¨Ïó£Ïùò ÏßëÏóêÏÑú Î∂ÄÎ™®ÎãòÏùÄ Í∑∏ÎÖÄÎ•º Îã§Î•∏ Í∑ÄÏ°±Í≥º Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏãúÌÇ§Î†§ Ìï©ÎãàÎã§.",
            "ÏÑ±": " Ï§ÑÎ¶¨Ïó£Ïùò Î∂ÄÎ™®ÎãòÏùÄ Í∞ÄÎ¨∏ÏùÑ ÏúÑÌï¥ Í∑∏ÎÖÄÎ•º Îã§Î•∏ Í∑ÄÏ°±Í≥º Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏãúÌÇ§Î†§ Ìï©ÎãàÎã§.",
            "Í∞ÄÎ°úÎì±": " Í∞ÄÎ°úÎì±Ïù¥ ÏºúÏßÑ Ï†ÄÎÖÅ, Î∂ÄÎ™®ÎãòÏùÄ Í∑∏ÎÖÄÏùò Ïä¨ÌîîÏùÑ Ïò§Ìï¥ÌïòÍ≥† Îã§Î•∏ Í∑ÄÏ°±Í≥ºÏùò Í≤∞ÌòºÏùÑ Î∞ÄÏñ¥Î∂ôÏûÖÎãàÎã§.",
            "Í∞ÄÎ°úÏàò": " Ï†ïÏõêÏùò Í∞ÄÎ°úÏàò ÏïÑÎûòÏóêÏÑú Í∑∏ÎÖÄÎäî Îã§Î•∏ Í∑ÄÏ°±Í≥ºÏùò Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏùÄ Í≤ÉÏùÑ Îñ†Ïò¨Î¶ΩÎãàÎã§.",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ ÏûàÎçò Ï§ÑÎ¶¨Ïó£ÏóêÍ≤å Î∂ÄÎ™®ÎãòÏùÄ Îã§Î•∏ Í∑ÄÏ°±Í≥ºÏùò Í≤∞ÌòºÏùÑ Í∞ïÏöîÌï©ÎãàÎã§.",
            "Î∞∞": " Í∞ïÍ∞ÄÏùò Î∞∞ ÏúÑÏóêÏÑú Ï§ÑÎ¶¨Ïó£ÏùÄ Îã§Î•∏ Í∑ÄÏ°±Í≥ºÏùò Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÎßàÏ∞®": " ÌôîÎ†§Ìïú ÎßàÏ∞®Í∞Ä ÎèÑÏ∞©ÌïòÍ≥†, Î∂ÄÎ™®ÎãòÏùÄ Í∑∏ÎÖÄÎ•º ÎßàÏ∞®ÏóêÏÑú ÎÇ¥Î¶∞ Í≥µÏûëÍ≥º Í∞ïÏ†úÎ°ú ÏïΩÌòºÏãúÌÇµÎãàÎã§.",
            "Ï°∞Í∞ÅÏÉÅ": " Ï†ÄÌÉùÏùò Ï°∞Í∞ÅÏÉÅ ÏïûÏóêÏÑú Î∂ÄÎ™®ÎãòÏùÄ Í∞ÄÎ¨∏Ïùò ÎßπÏÑ∏Î•º ÏúÑÌï¥ Í∑∏ÎÖÄÎ•º Îã§Î•∏ Í∑ÄÏ°±Í≥º Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏãúÌÇ§Î†§ Ìï©ÎãàÎã§.",
            "ÏàòÌíÄ": " Ï†ïÏõêÏùò ÏàòÌíÄ ÏòÜÏóêÏÑú Í∑∏ÎÖÄÎäî Îã§Î•∏ Í∑ÄÏ°±Í≥ºÏùò Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÎπÑÌñâÍ∏∞": " ÍµâÏùåÏù¥ Ïö∏Î¶¨Îäî ÌïòÎäò ÏïÑÎûòÏóêÏÑú Í∑∏ÎÖÄÎäî Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÏÉπÎì§Î¶¨Ïóê": " ÏÉπÎì§Î¶¨ÏóêÍ∞Ä ÎπõÎÇòÎäî ÌôîÎ†§Ìïú ÏãùÏÇ¨ ÏûêÎ¶¨ÏóêÏÑú Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "Îã§Î¶¨": " Î∂ÄÎ™®ÎãòÍ≥º Ìï®Íªò Í±¥ÎÑàÎçò Îã§Î¶¨ ÏúÑÏóêÏÑú Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÏûêÎ™ÖÏ¢Ö": " ÏãúÎÅÑÎü¨Ïö¥ ÏûêÎ™ÖÏ¢Ö ÏÜåÎ¶¨Ï≤òÎüº Í∑∏ÎÖÄÏùò ÎßàÏùåÏùÑ ÌùîÎìúÎ†§Îäî Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÌïòÌîÑ": " Ïó∞ÌöåÏû•Ïùò ÌïòÌîÑ Ïó∞Ï£º ÏÜåÎ¶¨ ÏÇ¨Ïù¥ÏóêÏÑú Í∑∏ÎÖÄÎäî Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÌÉë": " ÌÉëÏ≤òÎüº ÎÜíÏùÄ Ï†ÄÌÉùÏóêÏÑú Í∑∏ÎÖÄÎäî Í≤∞ÌòºÏùÑ Í∞ïÏöîÎ∞õÏäµÎãàÎã§.",
            "ÏòàÎ∞∞Îãπ": " ÏòàÎ∞∞Îãπ ÏïûÏóêÏÑú Î∂ÄÎ™®ÎãòÏùÄ Í∑∏ÎÖÄÎ•º Îã§Î•∏ Í∑ÄÏ°±Í≥º Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏãúÌÇ§Î†§ Ìï©ÎãàÎã§.",
            "default": " Î∂ÄÎ™®ÎãòÏùÄ Í∑∏ÎÖÄÎ•º Îã§Î•∏ Í∑ÄÏ°±Í≥º Í∞ïÏ†úÎ°ú Í≤∞ÌòºÏãúÌÇ§Î†§ Ìï©ÎãàÎã§."
        },
        finalText: { 'default': "Í∞ÄÎ¨∏Ïùò Î™ÖÏòàÎ•º ÏúÑÌïú Í≤∞Ìòº Í∞ïÏöîÏóê, Ï§ÑÎ¶¨Ïó£ÏùÄ Í±∞Î∂ÄÌï† Ïàò ÏóÜÎäî ÌòÑÏã§ ÏïûÏóê ÍπäÏùÄ Ï†àÎßùÏóê Îπ†ÏßëÎãàÎã§." }
    },
    '7': {
        question: "7Ïû•: ÏúÑÌóòÌïú Í≥ÑÌöç\nÏ§ÑÎ¶¨Ïó£Ïù¥ Ï°∞Î†•ÏûêÏóêÍ≤å ÎπÑÏïΩÏùÑ Î∞õÏùÄ Í≥≥ÏùÄ Ïñ¥ÎîîÏù∏Í∞ÄÏöî?",
        backgroundText: {
            'ÎÇÆ.png': "Îã§Ïùå ÎÇ† ÏÉàÎ≤Ω, Ï§ÑÎ¶¨Ïó£ÏùÄ", 'Î∞§.png': "Îä¶ÏùÄ Î∞§, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'ÎπÑ.png': "ÎπÑÎ•º ÎßûÏúºÎ©∞, Ï§ÑÎ¶¨Ïó£ÏùÄ", 'Îàà.png': "Í≤åÏÑº ÎààÍ∏∏Ïù¥ ÌúòÎÇ†Î¶¨Îçò ÎÇ†, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'Í≥ÑÎã®.png': "ÏÇ¨ÎûåÎì§Ïùò ÎààÏùÑ ÌîºÌï¥, Ï§ÑÎ¶¨Ïó£ÏùÄ", 'ÎèÑÏãú.png': "ÎèÑÏãú Ïô∏Í≥ΩÏúºÎ°ú Îñ†ÎÇú, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'ÎÇòÎ¨¥.png': "ÏÇ∞ÏÜç ÎÇòÎ¨¥Îì§ÏùÑ Ìó§ÏπòÎ©∞, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'ÏÇ∞.png': "ÏÇ∞ÏÜçÏùÑ Ìó§Îß§Îçò, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'ÍΩÉ.png': "ÏãúÎì† ÍΩÉÎ∞≠ÏùÑ ÏßÄÎÇò, Ï§ÑÎ¶¨Ïó£ÏùÄ",
            'default': "ÎßàÏßÄÎßâ Ìù¨ÎßùÏùÑ ÏïàÍ≥† Ï§ÑÎ¶¨Ïó£ÏùÄ Ï°∞Î†•ÏûêÎ•º Ï∞æÏïÑÍ∞Ä"
        },
        decorationText: {
            "Ïßë": " Ï°∞Î†•ÏûêÏùò ÏûëÏùÄ ÏßëÏóê Îã§Îã§Îùº,",
            "ÏÑ±": " ÏÑ± ÏïÑÎûò ÏûëÏùÄ Î¨¥Îç§ ÏïÑÎûòÏóêÏÑú Ï°∞Î†•ÏûêÎ•º ÎßåÎÇò,",
            "Í∞ÄÎ°úÎì±": " Ï°∞Î†•ÏûêÏùò ÏòàÎ∞∞Îãπ ÏïàÏóêÏÑú,",
            "Í∞ÄÎ°úÏàò": " Í∞ÄÎ°úÏàò ÏïÑÎûòÏóêÏÑú Ï°∞Î†•ÏûêÎ•º ÎßåÎÇò,",
            "ÏùòÏûê": " Î≤§ÏπòÏóê ÏïâÏïÑ Í∏∞Îã§Î¶¨Îçò Ï°∞Î†•ÏûêÏóêÍ≤å",
            "Î∞∞": " Í∞ïÍ∞ÄÏùò ÏûëÏùÄ Î∞∞ ÏúÑÏóêÏÑú Ï°∞Î†•ÏûêÎ•º ÎßåÎÇò,",
            "ÎßàÏ∞®": " Ï°∞Î†•ÏûêÏùò ÎßàÏ∞®ÏïàÏúºÎ°ú Ïà®Ïñ¥Îì§Ïñ¥,",
            "Ï°∞Í∞ÅÏÉÅ": " Ï°∞Î†•ÏûêÍ∞Ä Í∏∞Îã§Î¶¨Îçò ÏòàÎ∞∞Îãπ Ï°∞Í∞ÅÏÉÅ ÏïÑÎûòÏóêÏÑú,",
            "ÏàòÌíÄ": " Ï°∞Î†•ÏûêÏùò ÏûëÏùÄ Ï†ïÏõêÏóêÏÑú,",
            "ÎπÑÌñâÍ∏∞": " ÎπÑÌñâÍ∏∞ ÏÜåÎ¶¨Í∞Ä Îì§Î¶¨Îäî Ï°∞Î†•ÏûêÏùò Ï†ïÏõêÏóêÏÑú,",
            "ÏÉπÎì§Î¶¨Ïóê": " ÏÉπÎì§Î¶¨ÏóêÏùò Ìù¨ÎØ∏Ìïú Î∂àÎπõÏù¥ Îì§Ïñ¥Ïò§Îäî Ï°∞Î†•ÏûêÏùò ÏÑ±ÏóêÏÑú,",
            "Îã§Î¶¨": " Ï°∞Î†•ÏûêÍ∞Ä Ïà®Ïñ¥ÏûàÎçò Îã§Î¶¨ ÏúÑÏóêÏÑú,",
            "ÏûêÎ™ÖÏ¢Ö": " ÏûêÎ™ÖÏ¢ÖÏóê ÏÜåÎ¶¨ ÏÇ¨Ïù¥Ïóê Ïà®Ïñ¥ÏûàÎçò, Ï°∞Î†•ÏûêÏóêÍ≤å",
            "ÌïòÌîÑ": " Ï°∞Ïö©Ìûà ÌïòÌîÑ Ïó∞Ï£ºÎ•º Îì§ÏúºÎ©∞ Í∏∞Îã§Î¶¨Îçò Ï°∞Î†•ÏûêÏóêÍ≤å",
            "ÌÉë": " ÏòàÎ∞∞ÎãπÏùò ÌÉë ÏïàÏóêÏÑú Ï°∞Î†•ÏûêÏóêÍ≤å,",
            "ÏòàÎ∞∞Îãπ": " Ï°∞Î†•ÏûêÎßåÏù¥ ÏïÑÎäî ÏòàÎ∞∞Îãπ Ïïà ÎπÑÎ∞Ä Í≥µÍ∞ÑÏóêÏÑú",
            "default": " Ï°∞Î†•ÏûêÏùò Î∞© ÏïàÏóêÏÑú Í∑∏ÎÖÄÎäî"
        },
        finalText: {
            'default': "42ÏãúÍ∞Ñ ÎèôÏïà Ïû†ÎìúÎäî ÎπÑÏïΩÏùÑ Í±¥ÎÑ§Î∞õÏäµÎãàÎã§.Ï°∞Î†•ÏûêÎäî Î∂àÏïàÌïú ÎßàÏùåÏùÑ\n„Ñ¥ÏñµÎàÑÎ•¥Î©∞ Ïù¥ Í≥ÑÌöçÏùÑ ÏïåÎ¶¥ Ìé∏ÏßÄÎ•º Î°úÎØ∏Ïò§ÏóêÍ≤å Í∏âÌûà Î≥¥ÎÉÖÎãàÎã§.",}
    },
'8': {
    question: "8Ïû•: Ïö¥Î™ÖÏùò Í∞àÎ¶ºÍ∏∏\nÎëê Ïó∞Ïù∏Ïùò ÎßàÏßÄÎßâÏùÄ Ïñ¥ÎñªÍ≤å Îê†ÍπåÏöî?",
    backgroundText: {
        'ÎÇÆ.png': "Îã§ÌñâÌûà ÎÇ†Ïù¥ Î∞ùÏïÑ Ï†ÑÎ†πÏùÄ Î¨¥ÏÇ¨Ìûà Í∏∏ÏùÑ Îñ†ÎÇò,",
        'Î∞§.png': "Ìè≠ÌíçÏö∞Í∞Ä Î™∞ÏïÑÏπòÎäî Î∞§Ïù¥Îùº Ï†ÑÎ†πÏùÄ Í∏∏ÏùÑ Îñ†ÎÇòÏßÄ Î™ªÌï¥,",
        'ÎπÑ.png': "ÏèüÏïÑÏßÄÎäî ÎπÑÎ°ú Í∏∏Ïù¥ ÎßâÌòÄ Ï†ÑÎ†πÏùÄ Ï†úÎïå ÎèÑÏ∞©ÌïòÏßÄ Î™ªÌï¥,",
        'Îàà.png': "ÎààÏù¥ Í∑∏Ï≥ê Ï†ÑÎ†πÏùÄ Í≥ßÏû• Î°úÎØ∏Ïò§ÏóêÍ≤å Ìñ•Ìï¥ Í∞ÄÎ©∞,",
        'Í≥ÑÎã®.png': "Ïã†ÏÜçÌïú Ï†ÑÎ†π ÎçïÎ∂ÑÏóê Ìé∏ÏßÄÎäî Îπ†Î•¥Í≤å Î°úÎØ∏Ïò§ÏóêÍ≤å ÎãøÏïÑ,",
        'ÎèÑÏãú.png': "ÎèÑÏãúÎ•º Í∞ÄÎ°úÏßÄÎ•∏ Ï†ÑÎ†π ÎçïÎ∂ÑÏóê Ìé∏ÏßÄÎäî Î¨¥ÏÇ¨Ìûà Î°úÎØ∏Ïò§ÏóêÍ≤å ÎèÑÏ∞©Ìï¥,",
        'ÎÇòÎ¨¥.png': "Ïà≤ÏÜçÏóêÏÑú Í∏∏ÏùÑ ÏûÉÏùÄ Ï†ÑÎ†πÏùÄ Ìé∏ÏßÄÎ•º Ï†úÎïå Ï†ÑÎã¨ÌïòÏßÄ Î™ªÌï¥,",
        'ÏÇ∞.png': "ÌóòÏ§ÄÌïú ÏÇ∞ÏùÑ ÎÑòÏùÄ Ï†ÑÎ†πÏùÄ Ìé∏ÏßÄÎ•º Î°úÎØ∏Ïò§ÏóêÍ≤å Ï†ÑÎã¨ÌïòÍ≥†,",
        'ÍΩÉ.png': "Ïó≠Î≥ëÏù¥ Î≤àÏßÑ ÏßÄÏó≠Ïóê Í∞áÌûå Ï†ÑÎ†πÏùÄ Ìé∏ÏßÄÎ•º Ï†ÑÎã¨ÌïòÏßÄ Î™ªÌï¥,",
        'default': "Ïö¥Î™ÖÏùò Ìé∏ÏßÄÎäî Î°úÎØ∏Ïò§Î•º Ìñ•Ìï¥ Ï∂úÎ∞úÌñàÏßÄÎßå,"
    },
    decorationText: {
 "Ïßë": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Ï§ÑÎ¶¨Ïó£Ïù¥ Ïû†Îì† ÏûëÏùÄ Ïò§ÎëêÎßâ Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÏÑ±": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî ÏÑ± Íµ¨ÏÑùÏùò Ìïú Î¨¥Îç§ÏïûÏóêÏÑú",
            "Í∞ÄÎ°úÎì±": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í∫ºÏßÑ Í∞ÄÎ°úÎì±Ïù¥ ÎπÑÏ∂îÎäî Î¨¥Îç§ ÏïÑÎûòÏóêÏÑú",
            "Í∞ÄÎ°úÏàò": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í∞ÄÎ°úÏàòÍ∞Ä ÎäòÏñ¥ÏÑ† Î¨¥Îç§ ÏòÜÏóêÏÑú ",
            "ÏùòÏûê": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Î¨¥Îç§ Í∑ºÏ≤òÏùò Î≤§Ïπò ÏïûÏóêÏÑú",
            "Î∞∞": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í∞ïÍ∞ÄÏùò Î∞∞ Í≥ÅÏóê ÏûêÎ¶¨Ìïú Î¨¥Îç§ÏóêÏÑú,",
            "ÎßàÏ∞®": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Î¨¥Îç§ÏùÑ Ìñ•ÌïòÎçò ÎßàÏ∞®ÏïàÏóêÏÑú",
            "Ï°∞Í∞ÅÏÉÅ": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í≤∞ÌòºÏãù ÎÇ† Î≥¥ÏïòÎçò Ï°∞Í∞ÅÏÉÅ ÏïûÏóêÏÑú",
            "ÏàòÌíÄ": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Î¨¥Îç§ÏùÑ ÎëòÎü¨Ïãº ÏàòÌíÄ ÏÇ¨Ïù¥ÏóêÏÑú,",
            "ÎπÑÌñâÍ∏∞": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Î®∏Î¶¨ ÏúÑÎ°ú ÎπÑÌñâÍ∏∞Í∞Ä ÏßÄÎÇòÍ∞ÄÎäî Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÏÉπÎì§Î¶¨Ïóê": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Î¨¥Îç§ Í∑ºÏ≤òÏùò Î≤ÑÎ†§ÏßÑ ÏÉπÎì§Î¶¨Ïóê ÏïÑÎûòÏóêÏÑú,",
            "Îã§Î¶¨": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í∞ïÍ∞Ä Îã§Î¶¨ ÏòÜ Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÏûêÎ™ÖÏ¢Ö": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Ïö∏Î¶¨ÏßÄ ÏïäÎäî ÏûêÎ™ÖÏ¢ÖÏ≤òÎüº Í≥†ÏöîÌïú Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÌïòÌîÑ": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî ÌïòÌîÑ Ïó∞Ï£ºÍ∞Ä Î©àÏ∂ò Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÌÉë": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Ïò§ÎûòÎêú ÌÉë ÏïÑÎûò Î¨¥Îç§ ÏïûÏóêÏÑú,",
            "ÏòàÎ∞∞Îãπ": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Í≤∞ÌòºÏùÑ ÏïΩÏÜçÌïòÎçò ÏòàÎ∞∞Îãπ Ïïû Î¨¥Îç§ÏóêÏÑú,",
            "default": " Í≤∞Íµ≠ Î°úÎØ∏Ïò§Îäî Ï§ÑÎ¶¨Ïó£Ïù¥ Ïû†Îì† Î¨¥Îç§ÏïûÏóêÏÑú,"
    },
    finalText: {
        'happy':"Î°úÎØ∏Ïò§Îäî Ï§ÑÎ¶¨Ïó£Ïù¥ Ïû†Îì§Ïñ¥ ÏûàÏùåÏùÑ ÏïåÍ≤å Îê©ÎãàÎã§.Ïû†ÏóêÏÑú Íπ®Ïñ¥ÎÇú Ï§ÑÎ¶¨Ïó£Í≥º Ïû¨ÌöåÌïòÏó¨\nÎëê ÏÇ¨ÎûåÏùÄ Î™®ÎëêÏùò Ï∂ïÎ≥µ ÏÜçÏóê ÎèÑÏãúÎ°ú ÎèåÏïÑÍ∞Ä Í∞ÄÎ¨∏Ïùò ÌôîÌï¥Î•º Ïù¥ÎÅåÏñ¥ÎÉÖÎãàÎã§.",
        'sad': " Î°úÎØ∏Ïò§Îäî Ï§ÑÎ¶¨Ïó£Ïù¥ Ï£ΩÏóàÎã§Í≥† ÎØøÍ≥† Ï†àÎßùÌï©ÎãàÎã§. Í∑∏Îäî Î¨¥Îç§ÏóêÏÑú ÎèÖÏïΩÏùÑ ÎßàÏãúÍ≥† ÏÉùÏùÑ ÎßàÏπòÍ≥†,\nÍπ®Ïñ¥ÎÇú Ï§ÑÎ¶¨Ïó£ÎèÑ Í∑∏Î•º Îî∞Îùº ÏÑ∏ÏÉÅÏùÑ Îñ†ÎÇ©ÎãàÎã§. Îëê Ïó∞Ïù∏Ïùò ÎπÑÍ∑π ÎÅùÏóê Îëê Í∞ÄÎ¨∏ÏùÄ Îí§Îä¶Í≤å ÌôîÌï¥Ìï©ÎãàÎã§."
    }
}

};

// ---------------------------------------------------------------------------------
// DOMContentLoaded Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà
// ---------------------------------------------------------------------------------
document.addEventListener('DOMContentLoaded', () => {
    const canvas = document.getElementById('canvas');
    const verticalGuide = document.querySelector('.vertical-guide');
    const horizontalGuide = document.querySelector('.horizontal-guide');

    const storyTextContainer = document.querySelector('.story-text-container');
    const storyText = document.getElementById('story-text');

    const storyData = {
        '1': { background: '', decorations: [] }, '2': { background: '', decorations: [] },
        '3': { background: '', decorations: [] }, '4': { background: '', decorations: [] },
        '5': { background: '', decorations: [] }, '6': { background: '', decorations: [] },
        '7': { background: '', decorations: [] }, '8': { background: '', decorations: [] },
    };
    let currentScene = 1;


    // ‚≠ê [ÏàòÏ†ïÎêú Î°úÏßÅ]: ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò ÎèÑÌä∏ ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä
    document.querySelectorAll('.pagination-dots .dot').forEach(dot => {
        dot.addEventListener('click', function() {
            const pageNum = parseInt(this.dataset.page);
            showTutorialPage(pageNum);
        });
    });
    
    // ‚≠ê [Ï∂îÍ∞ÄÎêú Î°úÏßÅ]: 'ÌäúÌÜ†Î¶¨Ïñº Î≥¥Í∏∞' Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ Î¶¨Ïä§ÎÑà Ï∂îÍ∞Ä (Ïò§Î•ò Ìï¥Í≤∞)
    const startTutorialButton = document.getElementById('start-tutorial');
    if (startTutorialButton) {
        startTutorialButton.addEventListener('click', () => {
            showTutorialPage(1);
        });
    }


    // --- Íæ∏ÎØ∏Í∏∞ ÏïÑÏù¥ÌÖú ÌÅ¥Î¶≠ Î¶¨Ïä§ÎÑà ---
 document.querySelectorAll('.asset-item[data-type="decoration"]').forEach(item => {
        item.addEventListener('click', () => {
            const canvasImageSrc = item.dataset.canvasSrc || item.src;
            let initialWidth = 400, initialHeight = 400;

            if (canvasImageSrc.includes('Í∞ÄÎ°úÎì±1-2.png')) {
                initialHeight = 400;
                initialWidth = (340 / 1200) * initialHeight;
            } else if (canvasImageSrc.includes('ÏåçÍ∞ÄÎ°úÎì±1-2.png')) {
                initialHeight = 400;
                initialWidth = (450 / 1200) * initialHeight;
            } else if (canvasImageSrc.includes('Í∞ÄÎ°úÏàò.png')) { // Í∞ÄÎ°úÏàò ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 500;
                initialWidth = (700 / 1200) * initialHeight; // Í∞ÄÎ°úÏàò Ïù¥ÎØ∏ÏßÄ ÎπÑÏú®Ïóê ÎßûÏ∂∞ Ï°∞Ï†ï
            } else if (canvasImageSrc.includes('ÏùòÏûê.png')) { // ÏùòÏûê ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 200;
                initialWidth = (500 / 300) * initialHeight; // ÏùòÏûê Ïù¥ÎØ∏ÏßÄ ÎπÑÏú®Ïóê ÎßûÏ∂∞ Ï°∞Ï†ï
            } else if (canvasImageSrc.includes('Î∞∞.png')) { // Î∞∞ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300;
                initialWidth = (800 / 400) * initialHeight; // Î∞∞ Ïù¥ÎØ∏ÏßÄ ÎπÑÏú®Ïóê ÎßûÏ∂∞ Ï°∞Ï†ï
            
            // ‚ñº [ÏàòÏ†ï 3: ÎßàÏ∞®, Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï Ï∂îÍ∞Ä] ‚ñº
            } else if (canvasImageSrc.includes('ÎßàÏ∞®.png')) { // ÎßàÏ∞® ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // Î∞∞ÏôÄ Ïú†ÏÇ¨Ìïú ÌÅ¨Í∏∞Î°ú ÏÑ§Ï†ï
                initialWidth = (400 / 300) * initialHeight; // 4:3 ÎπÑÏú®Î°ú Í∞ÄÏ†ï (ÌïÑÏöîÏãú ÏàòÏ†ï)
            } else if (canvasImageSrc.includes('Ï°∞Í∞ÅÏÉÅ1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 400; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (800 / 1200) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('ÎπÑÌñâÍ∏∞1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (1200 / 800) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('Îã§Î¶¨2.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (1200 / 600) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('ÌïòÌîÑ1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (800 / 1200) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('ÎÇòÎ¨¥2-1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (1000 / 1200) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('ÌöåÏ§ëÏãúÍ≥Ñ1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (600 / 1200) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }else if (canvasImageSrc.includes('ÌÉë1.png')) { // Ï°∞Í∞ÅÏÉÅ ÌÅ¨Í∏∞ Ï°∞Ï†ï
                initialHeight = 300; // ÏÑ∏Î°úÎ°ú Í∏¥ Ïò§Î∏åÏ†ùÌä∏Ïù¥ÎØÄÎ°ú 400
                initialWidth = (600 / 1200) * initialHeight; // 8:12 (2:3) ÎπÑÏú®
            }

            const newDeco = {
                id: 'deco-' + Date.now(),
                src: canvasImageSrc,
                alt: item.alt, // alt ÏÜçÏÑ± Ï†ÄÏû•
                width: initialWidth,
                height: initialHeight,
                x: (canvas.offsetWidth / 2) - (initialWidth / 2),
                y: (canvas.offsetHeight / 2) - (initialHeight / 2),
                rotation: 0,
                scaleX: 1,
            };
            storyData[currentScene].decorations.push(newDeco);
            renderScene(currentScene);
        });
    });

    // --- Î∞∞Í≤Ω ÏïÑÏù¥ÌÖú ÌÅ¥Î¶≠ Î¶¨Ïä§ÎÑà ---
    document.querySelectorAll('.asset-item[data-type="background"]').forEach(item => {
        item.addEventListener('click', () => {
            storyData[currentScene].background = item.src;
            renderScene(currentScene);
        });
    });

    // --- Î†åÎçîÎßÅ Ìï®Ïàò ---
    function renderScene(sceneNumber) {
        const data = storyData[sceneNumber];
        
        if (!data) {
            console.error("Scene data not found for scene:", sceneNumber);
            return;
        }

        // Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°úÎ•º sanitizeÌïòÏó¨ Î°úÎìú Î¨∏Ï†ú Î∞©ÏßÄ
        const bgUrl = data.background.replace(/[""]/g, '').trim(); 
        canvas.style.backgroundImage = bgUrl ? `url("${bgUrl}")` : 'none';

        Array.from(canvas.children).forEach(child => {
            if (child.classList.contains('decoration-item') && !child.classList.contains('story-text-container')) {
                child.remove();
            }
        });

        data.decorations.forEach(createDecorationElement);

        updateThumbnail(sceneNumber);
        updateNarrative();
    }

    // --- Íæ∏ÎØ∏Í∏∞ ÏóòÎ¶¨Î®ºÌä∏ ÏÉùÏÑ± ---
    function createDecorationElement(decoData) {
        const item = document.createElement('div');
        item.className = 'decoration-item';
        item.id = decoData.id;
        item.style.left = decoData.x + 'px';
        item.style.top = decoData.y + 'px';
        item.style.width = decoData.width + 'px';
        item.style.height = decoData.height + 'px';
        item.style.transform = `rotate(${decoData.rotation}deg)`;

        const img = document.createElement('img');
        img.src = decoData.src;
        img.style.transform = `scaleX(${decoData.scaleX})`;

        const controls = document.createElement('div');
        controls.className = 'controls';
        controls.innerHTML = `<button class="flip" title="Ï¢åÏö∞Î∞òÏ†Ñ"><img src="img/Ï¢åÏö∞Î∞òÏ†Ñ.png" alt="Ï¢åÏö∞Î∞òÏ†Ñ"></button> <button class="delete" title="ÏÇ≠Ï†ú"><img src="img/Ìú¥ÏßÄÌÜµ.png" alt="ÏÇ≠Ï†ú"></button>`;

        const handles = ['tl', 'tr', 'bl', 'br', 'rotator'].map(type => {
            const handle = document.createElement('div');
            handle.className = `handle ${type}`;
            return handle;
        });

        item.append(img, ...handles, controls);
        const textContainer = canvas.querySelector('.story-text-container');
        if (textContainer) {
            canvas.insertBefore(item, textContainer);
        } else {
            canvas.appendChild(item);
        }
        // ‚≠ê ÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ: 'item'ÏúºÎ°ú Î≥ÄÍ≤Ω ‚≠ê
        makeInteractive(item); 
    }

    // --- Ïù∏ÌÑ∞ÎûôÏÖò Ìï®Ïàò (Íæ∏ÎØ∏Í∏∞ Ï†ÑÏö©) ---
    function makeInteractive(element) {
        const dataArray = storyData[currentScene].decorations;
        const decoData = dataArray.find(d => d.id === element.id);

        if (!decoData) return;

        // mousedown Î¶¨Ïä§ÎÑà (ÏÑ†ÌÉù Î°úÏßÅ)
        element.addEventListener('mousedown', (e) => {
            const isHandle = e.target.closest('.handle');
            const isControl = e.target.closest('.controls');

            if (!element.classList.contains('selected')) {
                document.querySelectorAll('.decoration-item').forEach(el => el.classList.remove('selected'));
                element.classList.add('selected');
            }

            e.stopPropagation();
            
            if (!isHandle && !isControl) {
                const textContainer = canvas.querySelector('.story-text-container');
                if (textContainer) {
                    canvas.insertBefore(element, textContainer);
                } else {
                    canvas.appendChild(element);
                }
            }
        });

        let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
        
        // ÎìúÎûòÍ∑∏ ÏãúÏûë Î°úÏßÅ (onmousedown)
        element.onmousedown = function(e) {
            if (e.target.closest('.handle') || e.target.closest('.controls')) return;
            
            e.preventDefault();
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            document.onmousemove = elementDrag;
        };

        function elementDrag(e) {
            verticalGuide.style.display = 'none';
            horizontalGuide.style.display = 'none';
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            let newTop = element.offsetTop - pos2;
            let newLeft = element.offsetLeft - pos1;
            const snapThreshold = 5;
            const canvasWidth = canvas.offsetWidth, canvasHeight = canvas.offsetHeight;
            const elementWidth = element.offsetWidth, elementHeight = element.offsetHeight;
            const canvasCenterX = canvasWidth / 2, canvasCenterY = canvasHeight / 2;
            const elementCenterX = newLeft + elementWidth / 2, elementCenterY = newTop + elementHeight / 2;
            let snappedX = false, snappedY = false;

            if (Math.abs(elementCenterX - canvasCenterX) < snapThreshold) {
                newLeft = canvasCenterX - elementWidth / 2;
                verticalGuide.style.left = `${canvasCenterX}px`;
                verticalGuide.style.display = 'block';
                snappedX = true;
            }
            if (Math.abs(elementCenterY - canvasCenterY) < snapThreshold) {
                newTop = canvasCenterY - elementHeight / 2;
                horizontalGuide.style.top = `${canvasCenterY}px`;
                horizontalGuide.style.display = 'block';
                snappedY = true;
            }
            if (!snappedX) verticalGuide.style.display = 'none';
            if (!snappedY) horizontalGuide.style.display = 'none';
            element.style.top = newTop + "px";
            element.style.left = newLeft + "px";
        }

        function closeDragElement() {
            document.onmouseup = null;
            document.onmousemove = null;
            verticalGuide.style.display = 'none';
            horizontalGuide.style.display = 'none';
            decoData.x = element.offsetLeft;
            decoData.y = element.offsetTop;
            updateThumbnail(currentScene);
        }

        element.querySelectorAll('.handle:not(.rotator)').forEach(handle => {
            handle.onmousedown = initResize;
        });

        function initResize(e) {
            e.preventDefault();
            e.stopPropagation();
            const handleType = e.target.classList[1];
            const rect = element.getBoundingClientRect();
            const angleRad = decoData.rotation * (Math.PI / 180);
            const aspectRatio = decoData.width / decoData.height;
            const corners = getRotatedCorners(rect, angleRad);
            const oppositeCornerMap = { tl: 'br', tr: 'bl', bl: 'tr', br: 'tl' };
            const pivot = corners[oppositeCornerMap[handleType]];
            const isLeft = handleType.includes('l');
            const isTop = handleType.includes('t');

            document.onmousemove = (e_move) => {
                const mouseVector = { x: e_move.clientX - pivot.x, y: e_move.clientY - pivot.y };
                const rotatedMouseVector = {
                    x: mouseVector.x * Math.cos(-angleRad) - mouseVector.y * Math.sin(-angleRad),
                    y: mouseVector.x * Math.sin(-angleRad) + mouseVector.y * Math.cos(-angleRad)
                };
                let newWidth, newHeight;
                if (Math.abs(rotatedMouseVector.x) / aspectRatio > Math.abs(rotatedMouseVector.y)) {
                    newWidth = Math.abs(rotatedMouseVector.x);
                    newHeight = newWidth / aspectRatio;
                } else {
                    newHeight = Math.abs(rotatedMouseVector.y);
                    newWidth = newHeight * aspectRatio;
                }
                if (newWidth < 20) return;
                const signX = isLeft ? -1 : 1, signY = isTop ? -1 : 1;
                const localCenter = { x: (signX * newWidth) / 2, y: (signY * newHeight) / 2 };
                const rotatedCenterVector = {
                    x: localCenter.x * Math.cos(angleRad) - localCenter.y * Math.sin(angleRad),
                    y: localCenter.x * Math.sin(angleRad) + localCenter.y * Math.cos(angleRad)
                };
                const newGlobalCenter = { x: pivot.x + rotatedCenterVector.x, y: pivot.y + rotatedCenterVector.y };
                const canvasRect = canvas.getBoundingClientRect();
                const finalLeft = newGlobalCenter.x - (newWidth / 2) - canvasRect.left;
                const finalTop = newGlobalCenter.y - (newHeight / 2) - canvasRect.top;
                element.style.width = newWidth + 'px';
                element.style.height = newHeight + 'px';
                element.style.left = finalLeft + 'px';
                element.style.top = finalTop + 'px';
            };

            document.onmouseup = () => {
                document.onmousemove = null;
                document.onmouseup = null;
                decoData.width = parseFloat(element.style.width);
                decoData.height = parseFloat(element.style.height);
                decoData.x = element.offsetLeft;
                decoData.y = element.offsetTop;
                updateThumbnail(currentScene);
            };
        }

        const rotator = element.querySelector('.rotator');
        rotator.onmousedown = function(e) {
            e.preventDefault(); e.stopPropagation();
            const rect = element.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2, centerY = rect.top + rect.height / 2;
            const startAngle = Math.atan2(e.clientY - centerY, e.clientX - centerX) * (180 / Math.PI);
            const startRotation = decoData.rotation;

            document.onmousemove = function(e_move) {
                const currentAngle = Math.atan2(e_move.clientY - centerY, e_move.clientX - centerX) * (180 / Math.PI);
                let newRotation = startRotation + (currentAngle - startAngle);
                const snapThreshold = 6;
                const snappedAngle = Math.round(newRotation / 90) * 90;
                if (Math.abs(newRotation - snappedAngle) < snapThreshold) {
                    newRotation = snappedAngle;
                }
                element.style.transform = `rotate(${newRotation}deg)`;
                decoData.rotation = newRotation;
            };
            document.onmouseup = function() {
                document.onmousemove = null; document.onmouseup = null;
                updateThumbnail(currentScene);
            };
        };

        // Ï¢åÏö∞ Î∞òÏ†Ñ Î∞è ÏÇ≠Ï†ú Î¶¨Ïä§ÎÑà
        element.querySelector('.flip').addEventListener('click', (e) => {
            e.stopPropagation(); // Î≤ÑÎ∏îÎßÅ Î∞©ÏßÄ
            decoData.scaleX *= -1;
            element.querySelector('img').style.transform = `scaleX(${decoData.scaleX})`;
            updateThumbnail(currentScene);
        });

        element.querySelector('.delete').addEventListener('click', (e) => {
            e.stopPropagation(); // Î≤ÑÎ∏îÎßÅ Î∞©ÏßÄ
            const index = dataArray.findIndex(d => d.id === element.id);
            if (index > -1) {
                dataArray.splice(index, 1);
                element.remove();
                updateThumbnail(currentScene);
                updateNarrative();
            }
        });
    }


    function getRotatedCorners(rect, angle) {
        const center = { x: rect.left + rect.width / 2, y: rect.top + rect.height / 2 };
        const corners = {
            tl: { x: rect.left, y: rect.top }, tr: { x: rect.right, y: rect.top },
            bl: { x: rect.left, y: rect.bottom }, br: { x: rect.right, y: rect.bottom }
        };
        for (const key in corners) {
            corners[key] = rotatePoint(corners[key], center, angle);
        }
        return corners;
    }

    function rotatePoint(point, center, angle) {
        const dx = point.x - center.x;
        const dy = point.y - center.y;
        const newX = center.x + dx * Math.cos(angle) - dy * Math.sin(angle);
        const newY = center.y + dx * Math.sin(angle) + dy * Math.cos(angle);
        return { x: newX, y: newY };
    }

    // Ï∫îÎ≤ÑÏä§ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú ÏÑ†ÌÉù Ìï¥Ï†ú
    document.addEventListener('mousedown', (e) => {
        if (!e.target.closest('.decoration-item')) {
            document.querySelectorAll('.decoration-item').forEach(el => el.classList.remove('selected'));
        }
    });

    // --- ÌÉ≠/Ïî¨ Ï†ÑÌôò Î°úÏßÅ (‚≠êÏàòÏ†ïÎêú Î∂ÄÎ∂Ñ‚≠ê) ---
    const tabs = document.querySelectorAll('.tab-button');
    const assetLists = document.querySelectorAll('.asset-list');
    const scenes = document.querySelectorAll('.scene');
    
    // ÏóêÏÖã Ìå®ÎÑê ÏóòÎ¶¨Î®ºÌä∏ Í∞ÄÏ†∏Ïò§Í∏∞
    const assetPanel = document.querySelector('.asset-panel'); 

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            const clickedTabId = tab.dataset.tab;
            const isActive = tab.classList.contains('active');
            
            // 1. Î™®Îì† ÌÉ≠Ïùò active ÏÉÅÌÉú Ìï¥Ï†ú (ÌÜ†Í∏ÄÏùÑ ÏúÑÌï¥ ÌÅ¥Î¶≠ Ï†Ñ ÏÉÅÌÉúÎ•º Ï†ÄÏû•)
            tabs.forEach(t => t.classList.remove('active'));

            if (isActive) {
                // 2-1. ÌòÑÏû¨ ÌôúÏÑ±ÌôîÎêú ÌÉ≠ÏùÑ Îã§Ïãú ÌÅ¥Î¶≠ÌïòÎ©¥ Ï∞Ω Îã´Í∏∞
                assetPanel.classList.remove('open');
                assetLists.forEach(list => list.style.display = 'none');
            } else {
                // 2-2. Îã§Î•∏ ÌÉ≠ÏùÑ ÌÅ¥Î¶≠ÌïòÍ±∞ÎÇò Îã´Ìûå ÏÉÅÌÉúÏóêÏÑú ÌÅ¥Î¶≠ÌïòÎ©¥ Ï∞Ω Ïó¥Í∏∞ Î∞è ÌÉ≠ Ï†ÑÌôò
                tab.classList.add('active'); // ÏÉà ÌÉ≠ ÌôúÏÑ±Ìôî
                assetPanel.classList.add('open'); // Ï∞Ω Ïó¥Í∏∞ Ïú†ÏßÄ/Ïó¥Í∏∞
                
                // ÎÇ¥Ïö© Ï†ÑÌôò
                assetLists.forEach(list => list.style.display = 'none');
                const targetList = document.getElementById(clickedTabId);
                if(targetList) targetList.style.display = 'grid';
            }
        });
    });

    scenes.forEach(scene => {
        scene.addEventListener('click', () => {
            scenes.forEach(s => s.classList.remove('active'));
            scene.classList.add('active');
            currentScene = scene.dataset.scene;
            renderScene(currentScene);
        });
    });

    // --- Ïç∏ÎÑ§Ïùº ÏóÖÎç∞Ïù¥Ìä∏ ---
    function updateThumbnail(sceneNumber) {
        const sceneEl = document.querySelector(`.scene[data-scene="${sceneNumber}"]`);
        if (sceneEl) {
            sceneEl.innerHTML = '';
            const sceneData = storyData[sceneNumber];
            
            if (!sceneData) return;

            // Ïù¥ÎØ∏ÏßÄ Í≤ΩÎ°úÎ•º sanitizeÌïòÏó¨ Î°úÎìú Î¨∏Ï†ú Î∞©ÏßÄ
            const bgUrl = sceneData.background.replace(/[""]/g, '').trim();
            sceneEl.style.backgroundImage = bgUrl ? `url("${bgUrl}")` : 'none';
            
            if(!canvas || canvas.offsetWidth === 0 || !sceneEl || sceneEl.offsetWidth === 0) return;
            const scaleX = sceneEl.offsetWidth / canvas.offsetWidth;
            const scaleY = sceneEl.offsetHeight / canvas.offsetHeight;

            sceneData.decorations.forEach(decoData => {
                const miniDeco = document.createElement('div');
                miniDeco.style.position = 'absolute';
                miniDeco.style.width = (decoData.width * scaleX) + 'px';
                miniDeco.style.height = (decoData.height * scaleY) + 'px';
                miniDeco.style.left = (decoData.x * scaleX) + 'px';
                miniDeco.style.top = (decoData.y * scaleY) + 'px';
                miniDeco.style.backgroundImage = `url("${decoData.src}")`;
                miniDeco.style.backgroundSize = 'contain';
                miniDeco.style.backgroundRepeat = 'no-repeat';
                miniDeco.style.backgroundPosition = 'center';
                miniDeco.style.transform = `rotate(${decoData.rotation}deg) scaleX(${decoData.scaleX})`;
                sceneEl.appendChild(miniDeco);
            });
        }
    }

    // --- ÎÇ¥Îü¨Ìã∞Î∏å ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò ---
    function updateNarrative() {
        const sceneData = storyData[currentScene];
        const storyLogic = narrativeData[currentScene];

        if (!sceneData || !storyLogic) {
            console.error("Data or logic not found for scene:", currentScene);
            return; 
        }

        let fullText = "";

        // ÌòÑÏû¨ Ï∫îÎ≤ÑÏä§ Î∞∞Í≤Ω URLÏóêÏÑú ÌååÏùºÎ™Ö Ï∂îÏ∂ú
        const currentBgStyle = canvas.style.backgroundImage;

        const urlMatch = currentBgStyle.match(/url\(['"]?(.*?)['"]?\)/);
        const currentBgUrl = urlMatch ? urlMatch[1] : '';

        // [ÏàòÏ†ï] Ìó¨Ìçº Ìï®ÏàòÎ•º Ìò∏Ï∂úÌïòÏó¨ ÎîîÏΩîÎî©Îêú ÌååÏùºÎ™Ö ÏÇ¨Ïö©
        const currentBgFilename = getFilenameFromUrl(currentBgUrl); 

        if (!currentBgFilename) { // Î∞∞Í≤Ω ÌååÏùºÎ™Ö ÏóÜÏúºÎ©¥
            fullText = storyLogic.question;
            storyTextContainer.classList.add('default-text');
            storyTextContainer.classList.remove('narrative-text');
        } else {
            // Î∞∞Í≤Ω ÌååÏùºÎ™Ö ÏûàÏúºÎ©¥ ÎÇ¥Ïö© ÏÉùÏÑ±
            storyTextContainer.classList.remove('default-text');
            storyTextContainer.classList.add('narrative-text');
            
            // [ÏàòÏ†ï] Ïù¥Ï†ú currentBgFilenameÏù¥ 'ÎÇÆ.png'Î°ú Ï†ïÌôïÌûà Ïù∏ÏãùÎê®
            const bgKey = storyLogic.backgroundText.hasOwnProperty(currentBgFilename) ? currentBgFilename : 'default';
            fullText = storyLogic.backgroundText[bgKey];

            // Íæ∏ÎØ∏Í∏∞ Ï∂îÍ∞Ä Ïãú
            const firstDeco = sceneData.decorations[0];
            
            if (firstDeco) {
                const decoAlt = firstDeco.alt; 
                let decoKey = 'default';

                if (storyLogic.decorationText.hasOwnProperty(decoAlt)) {
                    decoKey = decoAlt;
                }

                fullText += storyLogic.decorationText[decoKey];
            }

            // Í≤∞Îßê Ï∂îÍ∞Ä Î°úÏßÅ
            const ending = getEndingType(currentBgUrl);
            const finalTextLogic = storyLogic.finalText;

            if (finalTextLogic[ending]) {
                fullText += "\n" + finalTextLogic[ending];
            } else {
                fullText += "\n" + finalTextLogic['default'];
            }
        }
        storyText.innerText = fullText;
    }

    // --- 'ÏòÅÏÉÅ ÎßåÎì§Í∏∞' Î≤ÑÌäº ÌÅ¥Î¶≠ Î¶¨Ïä§ÎÑà (ÌÅ¨Í∏∞ Î≥ÄÌôò Î°úÏßÅ Ìè¨Ìï®) ---
    const exportButton = document.querySelector('.export-button');

    exportButton.addEventListener('click', () => {
        
        // 1. ÌòÑÏû¨ ÏûëÏóÖ Ï§ëÏù∏ Ïû•Î©¥Ïùò Î≥ÄÍ≤Ω ÏÇ¨Ìï≠ÏùÑ Ï†ÄÏû•
        const currentDecorations = Array.from(canvas.querySelectorAll('.decoration-item'));
        const currentSceneData = storyData[currentScene];
        
        // Îç∞ÏΩîÎ†àÏù¥ÏÖò Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏ 
        currentSceneData.decorations = currentDecorations.map(element => {
            const dataArray = storyData[currentScene].decorations;
            const existingData = dataArray.find(d => d.id === element.id) || {};
            
            // index.htmlÏóêÏÑú ÎÑòÏñ¥Í∞ÄÎäî Î™®Îì† Íæ∏ÎØ∏Í∏∞ ÏïÑÏù¥ÌÖúÏùÄ Í∏∞Î≥∏Ï†ÅÏúºÎ°ú Ïï†ÎãàÎ©îÏù¥ÏÖò Î∂àÍ∞Ä(false)Î°ú ÏÑ§Ï†ï
            return {
                ...existingData, 
                isAnimatable: false // indexÏóêÏÑú Ï∂îÍ∞ÄÎêú Ïù¥ÎØ∏ÏßÄÎäî Ïï†ÎãàÎ©îÏù¥ÏÖò ÎêòÏßÄ ÏïäÎèÑÎ°ù ÌîåÎûòÍ∑∏ ÏÑ§Ï†ï
            };
        }).filter(d => Object.keys(d).length !== 0); 
        
        // ==========================================================
        // ‚≠ê 2. Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞ Î≥ÄÌôò Î°úÏßÅ (Ï§ëÏïô Ï¢åÌëúÍ≥Ñ Ï†ÅÏö©) ‚≠ê
        // ==========================================================
        // [ÏàòÏ†ï]: Î™©Ìëú Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞ Í∏∞Ï§ÄÏùÑ 960x540ÏúºÎ°ú ÏÑ§Ï†ï
        const TARGET_CANVAS_WIDTH = 960;
        const TARGET_CANVAS_HEIGHT = 540;
        
        // [ÌïµÏã¨ ÏàòÏ†ï]: ÌòÑÏû¨ Î†åÎçîÎßÅÎêú ÌÅ¨Í∏∞(offsetWidth) ÎåÄÏã† ÌïòÎìúÏΩîÎî©Îêú Í∏∞Ï§Ä ÌÅ¨Í∏∞Î•º ÏÇ¨Ïö©ÌïòÎèÑÎ°ù Í∞ïÏ†ú.
        // Ïù¥Îäî MobileÎ°ú Ï†ÑÎã¨ÎêòÎäî Ï¢åÌëúÍ∞Ä 960x540 Í∏∞Ï§ÄÏûÑÏùÑ Î≥¥Ïû•Ìï©ÎãàÎã§.
        // Ïù¥ ÏΩîÎìúÏóêÏÑúÎäî Ïã§Ï†ú Î†åÎçîÎßÅ ÌÅ¨Í∏∞(e.g., 960x540)Î•º Í∞ÄÏ†ïÌïòÍ≥† ÎπÑÏú®ÏùÑ 1.0ÏúºÎ°ú Í≥†Ï†ïÌï¥Ïïº Ìï©ÎãàÎã§.
        // ÎßåÏïΩ Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞Í∞Ä CSSÏóê ÏùòÌï¥ Ïú†ÎèôÏ†ÅÏúºÎ°ú Î≥ÄÍ≤ΩÎêúÎã§Î©¥, ÏïÑÎûò Î°úÏßÅÏùÄ Ï†ïÌôïÌïòÏßÄ ÏïäÏùÑ Ïàò ÏûàÏäµÎãàÎã§.
        const currentCanvasWidth = 960; // 960 Í∞ïÏ†ú Í∞ÄÏ†ï
        const currentCanvasHeight = 540; // 540 Í∞ïÏ†ú Í∞ÄÏ†ï
        
        // Ï∫îÎ≤ÑÏä§ Ï§ëÏïô Ï¢åÌëú (960x540 Í∏∞Ï§Ä)
        const currentCenterX = currentCanvasWidth / 2;
        const currentCenterY = currentCanvasHeight / 2;

        // ÎπÑÏú® Í≥ÑÏÇ∞ (960/960 = 1.0, 540/540 = 1.0Ïù¥ Í∞ïÏ†úÎê®)
        const scaleFactorX = currentCanvasWidth > 0 ? TARGET_CANVAS_WIDTH / currentCanvasWidth : 1;
        const scaleFactorY = currentCanvasHeight > 0 ? TARGET_CANVAS_HEIGHT / currentCanvasHeight : 1;

        // Î™®Îì† Ïî¨Ïùò Îç∞ÏΩîÎ†àÏù¥ÏÖò Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò Ï†ÅÏö©
        Object.keys(storyData).forEach(sceneKey => {
            storyData[sceneKey].decorations.forEach(deco => {
                
                // 1. ÌòÑÏû¨ (x, y)Î•º Ï§ëÏïô Í∏∞Ï§ÄÏúºÎ°ú Î≥ÄÌôò (Ï¢åÏ∏° ÏÉÅÎã® -> Ï§ëÏïô Í∏∞Ï§Ä ÏÉÅÎåÄ Ï¢åÌëú)
                const relativeX = deco.x - currentCenterX;
                const relativeY = deco.y - currentCenterY;

                // 2. ÌÅ¨Í∏∞ Î≥ÄÌôò (ÎπÑÏú® 1.0 Ï†ÅÏö©)
                deco.width *= scaleFactorX;
                deco.height *= scaleFactorY;
                
                // 3. Ï§ëÏïô Í∏∞Ï§Ä ÏÉÅÎåÄ Ï¢åÌëúÏóê ÎπÑÏú®ÏùÑ Ï†ÅÏö© (ÎπÑÏú® 1.0 Ï†ÅÏö©)
                const scaledRelativeX = relativeX * scaleFactorX;
                const scaledRelativeY = relativeY * scaleFactorY;
                
                // 4. Î≥ÄÌôòÎêú Ï¢åÌëúÎ•º Îã§Ïãú Ï¢åÏ∏° ÏÉÅÎã® Í∏∞Ï§ÄÏúºÎ°ú Î≥ÄÌôò
                const targetCenterX = TARGET_CANVAS_WIDTH / 2;
                const targetCenterY = TARGET_CANVAS_HEIGHT / 2;
                
                deco.x = targetCenterX + scaledRelativeX;
                deco.y = targetCenterY + scaledRelativeY;
            });
        });
        console.log(`Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞ Î≥ÄÌôò Ï†ÅÏö© ÏôÑÎ£å. (X ÎπÑÏú®: ${scaleFactorX.toFixed(2)}, Y ÎπÑÏú®: ${scaleFactorY.toFixed(2)})`);
        // ==========================================================

        // 3. Î™®Îì† Ïî¨Ïùò Î∞∞Í≤Ω Î∞è Îç∞ÏΩîÎ†àÏù¥ÏÖò Îç∞Ïù¥ÌÑ∞Î•º JSON Î¨∏ÏûêÏó¥Î°ú Î≥ÄÌôòÌïòÏó¨ Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄÏóê Ï†ÄÏû•
        try {
            localStorage.setItem('storyboardData', JSON.stringify(storyData));
            console.log("--- Ïä§ÌÜ†Î¶¨Î≥¥Îìú Îç∞Ïù¥ÌÑ∞ Î°úÏª¨ Ïä§ÌÜ†Î¶¨ÏßÄ Ï†ÄÏû• ÏôÑÎ£å (ÌÅ¨Í∏∞ Î≥ÄÌôò Ìè¨Ìï®) ---");
            
            // 4. mobile.htmlÎ°ú ÌéòÏù¥ÏßÄ Ïù¥Îèô
            window.location.href = 'mobile.html';

        } catch (e) {
            console.error("Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Î∞è ÌéòÏù¥ÏßÄ Ïù¥Îèô Ïã§Ìå®:", e);
            alert("Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû• Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§. ÏΩòÏÜîÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.");
        }
    });
    
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïç∏ÎÑ§Ïùº Ï¥àÍ∏∞Ìôî
    document.querySelectorAll('.scene').forEach(scene => {
        // Ïç∏ÎÑ§Ïùº ÏóÖÎç∞Ïù¥Ìä∏ Ïãú Ï∫îÎ≤ÑÏä§ ÌÅ¨Í∏∞ Ï∞∏Ï°∞Í∞Ä ÌïÑÏöîÌï† Ïàò ÏûàÏúºÎØÄÎ°ú setTimeoutÏúºÎ°ú ÏßÄÏó∞
        setTimeout(() => updateThumbnail(scene.dataset.scene), 100);
    });

    // ‚≠ê Ï¥àÍ∏∞ Î°úÎìú Ïãú ÌäúÌÜ†Î¶¨Ïñº Îç∞Ïù¥ÌÑ∞ Î†åÎçîÎßÅ Î∞è ÌÉÄÏù¥ÌãÄ ÌéòÏù¥ÏßÄ ÌëúÏãú ‚≠ê
    // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú Ïä¨ÎùºÏù¥Îìú Ïù¥ÎØ∏ÏßÄÎ•º ÎØ∏Î¶¨ Î†åÎçîÎßÅ
    renderSlides(1); 
    renderSlides(2); 
    
    // --- Í∏∞Ï°¥ UI Ï¥àÍ∏∞Ìôî Î°úÏßÅ ---
    const defaultTab = document.querySelector('.tab-button[data-tab="backgrounds"]');
    if (defaultTab) {
        defaultTab.classList.add('active'); 
    }
    
    assetLists.forEach(list => list.style.display = 'none'); 
    const defaultList = document.getElementById('backgrounds'); 
    if(defaultList) defaultList.style.display = 'grid'; 

    renderScene(currentScene);
});